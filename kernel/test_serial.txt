[2J[01;01H[=3h[2J[01;01H[2J[01;01H[=3h[2J[01;01H[2J[01;01H[=3h[2J[01;01HBdsDxe: loading Boot0001 "UEFI QEMU HARDDISK QM00001 " from PciRoot(0x0)/Pci(0x1,0x1)/Ata(Primary,Master,0x0)
BdsDxe: starting Boot0001 "UEFI QEMU HARDDISK QM00001 " from PciRoot(0x0)/Pci(0x1,0x1)/Ata(Primary,Master,0x0)
INFO : Framebuffer info: FrameBufferInfo { byte_len: 4096000, width: 1280, height: 800, pixel_format: Bgr, bytes_per_pixel: 4, stride: 1280 }
INFO : UEFI bootloader started
INFO : Using framebuffer at 0x80000000
INFO : Reading configuration from disk was successful
INFO : Trying to load ramdisk via Disk
INFO : Ramdisk not found.
TRACE: exiting boot services
TRACE: switching to new level 4 table
INFO : New page table at: PhysFrame[4KiB](0x101000)
INFO : Elf file loaded at Pointer {
    addr: 0x000000000631b000,
    metadata: 1159528,
}
INFO : virtual_address_offset: 0x10000000000
INFO : Handling Segment: Ph64(ProgramHeader64 { type_: Ok(Load), flags: Flags(4), offset: 0, virtual_addr: 0, physical_addr: 0, file_size: 321dc, mem_size: 321dc, align: 1000 })
INFO : Handling Segment: Ph64(ProgramHeader64 { type_: Ok(Load), flags: Flags(5), offset: 321e0, virtual_addr: 331e0, physical_addr: 331e0, file_size: 8ca09, mem_size: 8ca09, align: 1000 })
INFO : Handling Segment: Ph64(ProgramHeader64 { type_: Ok(Load), flags: Flags(6), offset: bebf0, virtual_addr: c0bf0, physical_addr: c0bf0, file_size: 11740, mem_size: 12410, align: 1000 })
INFO : Mapping bss section
INFO : Handling Segment: Ph64(ProgramHeader64 { type_: Ok(Load), flags: Flags(6), offset: d0380, virtual_addr: d3380, physical_addr: d3380, file_size: 1398, mem_size: c5e0, align: 1000 })
INFO : Mapping bss section
INFO : Entry point at: 0x10000096a70
INFO : Creating GDT at PhysAddr(0x13e000)
INFO : Map framebuffer
INFO : Map physical memory
INFO : Allocate bootinfo
INFO : Create Memory Map
INFO : Create bootinfo
INFO : Jumping to kernel entry point at VirtAddr(0x10000096a70)
=== Buffered Boot Messages ===
[ INFO] kernel: Kernel entry point reached
[DEBUG] kernel: Boot info address: 0x38000000000
[ INFO] kernel: Initializing serial port...

=== End Buffered Messages ===
[ INFO] kernel: Serial port initialized and buffer flushed
[ INFO] kernel: Setting up framebuffer...
[ INFO] kernel::logger: Logger fully initialized - output to both framebuffer and serial
[ INFO] kernel: Initializing kernel systems...
[ INFO] kernel::gdt: GDT initialized with kernel and user segments
[DEBUG] kernel::gdt:   Kernel code: 0x8
[DEBUG] kernel::gdt:   Kernel data: 0x10
[DEBUG] kernel::gdt:   TSS: 0x18
[DEBUG] kernel::gdt:   User data: 0x2b
[DEBUG] kernel::gdt:   User code: 0x33
[DEBUG] kernel::gdt:   TSS RSP0 (kernel stack): 0x100000dc750
[DEBUG] kernel::gdt:   TSS IST[0] (double fault stack): 0x0
[ INFO] kernel::interrupts: Syscall handler configured with assembly entry point
[ INFO] kernel::interrupts: IDT address: 0x100000dc770
[ INFO] kernel::interrupts: IDT is in PML4 entry 2
[ INFO] kernel::interrupts: IDT loaded successfully at 0x100000dc770
[ INFO] kernel: GDT and IDT initialized
[ INFO] kernel: Checking physical memory offset availability...
[ INFO] kernel: Physical memory offset available: 0x28000000000
[ INFO] kernel::memory: Initializing memory management...
[ INFO] kernel::memory: Physical memory offset: VirtAddr(0x28000000000)
[ INFO] kernel::memory: Initializing frame allocator...
[ INFO] kernel::memory::frame_allocator: Frame allocator initialized with 116 MiB of usable memory in 100 regions
[ INFO] kernel::memory: Initializing paging...
[ INFO] kernel::memory::paging: Page table initialized
[ INFO] kernel::memory::process_memory: Saved kernel page table frame: PhysFrame[4KiB](0x101000)
[ INFO] kernel::memory: Initializing global kernel page tables...
[ INFO] kernel::memory::kernel_page_table: Initializing global kernel page table system
[TRACE] kernel::memory::frame_allocator: Frame allocator: Attempting to allocate frame #0
[TRACE] kernel::memory::frame_allocator: Frame allocator: Allocated frame 0x0 (allocation #0)
[ INFO] kernel::memory::kernel_page_table: Allocated kernel PDPT at frame PhysFrame[4KiB](0x0)
[ INFO] kernel::memory::kernel_page_table: Global kernel page table initialized successfully
[ INFO] kernel::memory::kernel_page_table: Process migration will occur as new processes are created
[ INFO] kernel::memory: Initializing heap allocator...
[ INFO] kernel::memory::heap: Mapping heap pages from Page[4KiB](0x444444440000) to Page[4KiB](0x44444453f000)
[TRACE] kernel::memory::frame_allocator: Frame allocator: Attempting to allocate frame #1
[TRACE] kernel::memory::frame_allocator: Frame allocator: Allocated frame 0x1000 (allocation #1)
[TRACE] kernel::memory::frame_allocator: Frame allocator: Attempting to allocate frame #2
[TRACE] kernel::memory::frame_allocator: Frame allocator: Allocated frame 0x2000 (allocation #2)
[TRACE] kernel::memory::frame_allocator: Frame allocator: Attempting to allocate frame #3
[TRACE] kernel::memory::frame_allocator: Frame allocator: Allocated frame 0x3000 (allocation #3)
[TRACE] kernel::memory::frame_allocator: Frame allocator: Attempting to allocate frame #4
[TRACE] kernel::memory::frame_allocator: Frame allocator: Allocated frame 0x4000 (allocation #4)
[TRACE] kernel::memory::frame_allocator: Frame allocator: Attempting to allocate frame #5
[TRACE] kernel::memory::frame_allocator: Frame allocator: Allocated frame 0x5000 (allocation #5)
[TRACE] kernel::memory::frame_allocator: Frame allocator: Attempting to allocate frame #6
[TRACE] kernel::memory::frame_allocator: Frame allocator: Allocated frame 0x6000 (allocation #6)
[TRACE] kernel::memory::frame_allocator: Frame allocator: Attempting to allocate frame #7
[TRACE] kernel::memory::frame_allocator: Frame allocator: Allocated frame 0x7000 (allocation #7)
[TRACE] kernel::memory::frame_allocator: Frame allocator: Attempting to allocate frame #8
[TRACE] kernel::memory::frame_allocator: Frame allocator: Allocated frame 0x8000 (allocation #8)
[TRACE] kernel::memory::frame_allocator: Frame allocator: Attempting to allocate frame #9
[TRACE] kernel::memory::frame_allocator: Frame allocator: Allocated frame 0x9000 (allocation #9)
[TRACE] kernel::memory::frame_allocator: Frame allocator: Attempting to allocate frame #10
[TRACE] kernel::memory::frame_allocator: Frame allocator: Allocated frame 0xa000 (allocation #10)
[TRACE] kernel::memory::frame_allocator: Frame allocator: Attempting to allocate frame #11
[TRACE] kernel::memory::frame_allocator: Frame allocator: Allocated frame 0xb000 (allocation #11)
[TRACE] kernel::memory::frame_allocator: Frame allocator: Attempting to allocate frame #12
[TRACE] kernel::memory::frame_allocator: Frame allocator: Allocated frame 0xc000 (allocation #12)
[TRACE] kernel::memory::frame_allocator: Frame allocator: Attempting to allocate frame #13
[TRACE] kernel::memory::frame_allocator: Frame allocator: Allocated frame 0xd000 (allocation #13)
[TRACE] kernel::memory::frame_allocator: Frame allocator: Attempting to allocate frame #14
[TRACE] kernel::memory::frame_allocator: Frame allocator: Allocated frame 0xe000 (allocation #14)
[TRACE] kernel::memory::frame_allocator: Frame allocator: Attempting to allocate frame #15
[TRACE] kernel::memory::frame_allocator: Frame allocator: Allocated frame 0xf000 (allocation #15)
[TRACE] kernel::memory::frame_allocator: Frame allocator: Attempting to allocate frame #16
[TRACE] kernel::memory::frame_allocator: Frame allocator: Allocated frame 0x10000 (allocation #16)
[TRACE] kernel::memory::frame_allocator: Frame allocator: Attempting to allocate frame #17
[TRACE] kernel::memory::frame_allocator: Frame allocator: Allocated frame 0x11000 (allocation #17)
[TRACE] kernel::memory::frame_allocator: Frame allocator: Attempting to allocate frame #18
[TRACE] kernel::memory::frame_allocator: Frame allocator: Allocated frame 0x12000 (allocation #18)
[TRACE] kernel::memory::frame_allocator: Frame allocator: Attempting to allocate frame #19
[TRACE] kernel::memory::frame_allocator: Frame allocator: Allocated frame 0x13000 (allocation #19)
[TRACE] kernel::memory::frame_allocator: Frame allocator: Attempting to allocate frame #20
[TRACE] kernel::memory::frame_allocator: Frame allocator: Allocated frame 0x14000 (allocation #20)
[TRACE] kernel::memory::frame_allocator: Frame allocator: Attempting to allocate frame #21
[TRACE] kernel::memory::frame_allocator: Frame allocator: Allocated frame 0x15000 (allocation #21)
[TRACE] kernel::memory::frame_allocator: Frame allocator: Attempting to allocate frame #22
[TRACE] kernel::memory::frame_allocator: Frame allocator: Allocated frame 0x16000 (allocation #22)
[TRACE] kernel::memory::frame_allocator: Frame allocator: Attempting to allocate frame #23
[TRACE] kernel::memory::frame_allocator: Frame allocator: Allocated frame 0x17000 (allocation #23)
[TRACE] kernel::memory::frame_allocator: Frame allocator: Attempting to allocate frame #24
[TRACE] kernel::memory::frame_allocator: Frame allocator: Allocated frame 0x18000 (allocation #24)
[TRACE] kernel::memory::frame_allocator: Frame allocator: Attempting to allocate frame #25
[TRACE] kernel::memory::frame_allocator: Frame allocator: Allocated frame 0x19000 (allocation #25)
[TRACE] kernel::memory::frame_allocator: Frame allocator: Attempting to allocate frame #26
[TRACE] kernel::memory::frame_allocator: Frame allocator: Allocated frame 0x1a000 (allocation #26)
[TRACE] kernel::memory::frame_allocator: Frame allocator: Attempting to allocate frame #27
[TRACE] kernel::memory::frame_allocator: Frame allocator: Allocated frame 0x1b000 (allocation #27)
[TRACE] kernel::memory::frame_allocator: Frame allocator: Attempting to allocate frame #28
[TRACE] kernel::memory::frame_allocator: Frame allocator: Allocated frame 0x1c000 (allocation #28)
[TRACE] kernel::memory::frame_allocator: Frame allocator: Attempting to allocate frame #29
[TRACE] kernel::memory::frame_allocator: Frame allocator: Allocated frame 0x1d000 (allocation #29)
[TRACE] kernel::memory::frame_allocator: Frame allocator: Attempting to allocate frame #30
[TRACE] kernel::memory::frame_allocator: Frame allocator: Allocated frame 0x1e000 (allocation #30)
[TRACE] kernel::memory::frame_allocator: Frame allocator: Attempting to allocate frame #31
[TRACE] kernel::memory::frame_allocator: Frame allocator: Allocated frame 0x1f000 (allocation #31)
[TRACE] kernel::memory::frame_allocator: Frame allocator: Attempting to allocate frame #32
[TRACE] kernel::memory::frame_allocator: Frame allocator: Allocated frame 0x20000 (allocation #32)
[TRACE] kernel::memory::frame_allocator: Frame allocator: Attempting to allocate frame #33
[TRACE] kernel::memory::frame_allocator: Frame allocator: Allocated frame 0x21000 (allocation #33)
[TRACE] kernel::memory::frame_allocator: Frame allocator: Attempting to allocate frame #34
[TRACE] kernel::memory::frame_allocator: Frame allocator: Allocated frame 0x22000 (allocation #34)
[TRACE] kernel::memory::frame_allocator: Frame allocator: Attempting to allocate frame #35
[TRACE] kernel::memory::frame_allocator: Frame allocator: Allocated frame 0x23000 (allocation #35)
[TRACE] kernel::memory::frame_allocator: Frame allocator: Attempting to allocate frame #36
[TRACE] kernel::memory::frame_allocator: Frame allocator: Allocated frame 0x24000 (allocation #36)
[TRACE] kernel::memory::frame_allocator: Frame allocator: Attempting to allocate frame #37
[TRACE] kernel::memory::frame_allocator: Frame allocator: Allocated frame 0x25000 (allocation #37)
[TRACE] kernel::memory::frame_allocator: Frame allocator: Attempting to allocate frame #38
[TRACE] kernel::memory::frame_allocator: Frame allocator: Allocated frame 0x26000 (allocation #38)
[TRACE] kernel::memory::frame_allocator: Frame allocator: Attempting to allocate frame #39
[TRACE] kernel::memory::frame_allocator: Frame allocator: Allocated frame 0x27000 (allocation #39)
[TRACE] kernel::memory::frame_allocator: Frame allocator: Attempting to allocate frame #40
[TRACE] kernel::memory::frame_allocator: Frame allocator: Allocated frame 0x28000 (allocation #40)
[TRACE] kernel::memory::frame_allocator: Frame allocator: Attempting to allocate frame #41
[TRACE] kernel::memory::frame_allocator: Frame allocator: Allocated frame 0x29000 (allocation #41)
[TRACE] kernel::memory::frame_allocator: Frame allocator: Attempting to allocate frame #42
[TRACE] kernel::memory::frame_allocator: Frame allocator: Allocated frame 0x2a000 (allocation #42)
[TRACE] kernel::memory::frame_allocator: Frame allocator: Attempting to allocate frame #43
[TRACE] kernel::memory::frame_allocator: Frame allocator: Allocated frame 0x2b000 (allocation #43)
[TRACE] kernel::memory::frame_allocator: Frame allocator: Attempting to allocate frame #44
[TRACE] kernel::memory::frame_allocator: Frame allocator: Allocated frame 0x2c000 (allocation #44)
[TRACE] kernel::memory::frame_allocator: Frame allocator: Attempting to allocate frame #45
[TRACE] kernel::memory::frame_allocator: Frame allocator: Allocated frame 0x2d000 (allocation #45)
[TRACE] kernel::memory::frame_allocator: Frame allocator: Attempting to allocate frame #46
[TRACE] kernel::memory::frame_allocator: Frame allocator: Allocated frame 0x2e000 (allocation #46)
[TRACE] kernel::memory::frame_allocator: Frame allocator: Attempting to allocate frame #47
[TRACE] kernel::memory::frame_allocator: Frame allocator: Allocated frame 0x2f000 (allocation #47)
[TRACE] kernel::memory::frame_allocator: Frame allocator: Attempting to allocate frame #48
[TRACE] kernel::memory::frame_allocator: Frame allocator: Allocated frame 0x30000 (allocation #48)
[TRACE] kernel::memory::frame_allocator: Frame allocator: Attempting to allocate frame #49
[TRACE] kernel::memory::frame_allocator: Frame allocator: Allocated frame 0x31000 (allocation #49)
[TRACE] kernel::memory::frame_allocator: Frame allocator: Attempting to allocate frame #50
[TRACE] kernel::memory::frame_allocator: Frame allocator: Allocated frame 0x32000 (allocation #50)
[TRACE] kernel::memory::frame_allocator: Frame allocator: Attempting to allocate frame #51
[TRACE] kernel::memory::frame_allocator: Frame allocator: Allocated frame 0x33000 (allocation #51)
[TRACE] kernel::memory::frame_allocator: Frame allocator: Attempting to allocate frame #52
[TRACE] kernel::memory::frame_allocator: Frame allocator: Allocated frame 0x34000 (allocation #52)
[TRACE] kernel::memory::frame_allocator: Frame allocator: Attempting to allocate frame #53
[TRACE] kernel::memory::frame_allocator: Frame allocator: Allocated frame 0x35000 (allocation #53)
[TRACE] kernel::memory::frame_allocator: Frame allocator: Attempting to allocate frame #54
[TRACE] kernel::memory::frame_allocator: Frame allocator: Allocated frame 0x36000 (allocation #54)
[TRACE] kernel::memory::frame_allocator: Frame allocator: Attempting to allocate frame #55
[TRACE] kernel::memory::frame_allocator: Frame allocator: Allocated frame 0x37000 (allocation #55)
[TRACE] kernel::memory::frame_allocator: Frame allocator: Attempting to allocate frame #56
[TRACE] kernel::memory::frame_allocator: Frame allocator: Allocated frame 0x38000 (allocation #56)
[TRACE] kernel::memory::frame_allocator: Frame allocator: Attempting to allocate frame #57
[TRACE] kernel::memory::frame_allocator: Frame allocator: Allocated frame 0x39000 (allocation #57)
[TRACE] kernel::memory::frame_allocator: Frame allocator: Attempting to allocate frame #58
[TRACE] kernel::memory::frame_allocator: Frame allocator: Allocated frame 0x3a000 (allocation #58)
[TRACE] kernel::memory::frame_allocator: Frame allocator: Attempting to allocate frame #59
[TRACE] kernel::memory::frame_allocator: Frame allocator: Allocated frame 0x3b000 (allocation #59)
[TRACE] kernel::memory::frame_allocator: Frame allocator: Attempting to allocate frame #60
[TRACE] kernel::memory::frame_allocator: Frame allocator: Allocated frame 0x3c000 (allocation #60)
[TRACE] kernel::memory::frame_allocator: Frame allocator: Attempting to allocate frame #61
[TRACE] kernel::memory::frame_allocator: Frame allocator: Allocated frame 0x3d000 (allocation #61)
[TRACE] kernel::memory::frame_allocator: Frame allocator: Attempting to allocate frame #62
[TRACE] kernel::memory::frame_allocator: Frame allocator: Allocated frame 0x3e000 (allocation #62)
[TRACE] kernel::memory::frame_allocator: Frame allocator: Attempting to allocate frame #63
[TRACE] kernel::memory::frame_allocator: Frame allocator: Allocated frame 0x3f000 (allocation #63)
[TRACE] kernel::memory::frame_allocator: Frame allocator: Attempting to allocate frame #64
[TRACE] kernel::memory::frame_allocator: Frame allocator: Allocated frame 0x40000 (allocation #64)
[TRACE] kernel::memory::frame_allocator: Frame allocator: Attempting to allocate frame #65
[TRACE] kernel::memory::frame_allocator: Frame allocator: Allocated frame 0x41000 (allocation #65)
[TRACE] kernel::memory::frame_allocator: Frame allocator: Attempting to allocate frame #66
[TRACE] kernel::memory::frame_allocator: Frame allocator: Allocated frame 0x42000 (allocation #66)
[TRACE] kernel::memory::frame_allocator: Frame allocator: Attempting to allocate frame #67
[TRACE] kernel::memory::frame_allocator: Frame allocator: Allocated frame 0x43000 (allocation #67)
[TRACE] kernel::memory::frame_allocator: Frame allocator: Attempting to allocate frame #68
[TRACE] kernel::memory::frame_allocator: Frame allocator: Allocated frame 0x44000 (allocation #68)
[TRACE] kernel::memory::frame_allocator: Frame allocator: Attempting to allocate frame #69
[TRACE] kernel::memory::frame_allocator: Frame allocator: Allocated frame 0x45000 (allocation #69)
[TRACE] kernel::memory::frame_allocator: Frame allocator: Attempting to allocate frame #70
[TRACE] kernel::memory::frame_allocator: Frame allocator: Allocated frame 0x46000 (allocation #70)
[TRACE] kernel::memory::frame_allocator: Frame allocator: Attempting to allocate frame #71
[TRACE] kernel::memory::frame_allocator: Frame allocator: Allocated frame 0x47000 (allocation #71)
[TRACE] kernel::memory::frame_allocator: Frame allocator: Attempting to allocate frame #72
[TRACE] kernel::memory::frame_allocator: Frame allocator: Allocated frame 0x48000 (allocation #72)
[TRACE] kernel::memory::frame_allocator: Frame allocator: Attempting to allocate frame #73
[TRACE] kernel::memory::frame_allocator: Frame allocator: Allocated frame 0x49000 (allocation #73)
[TRACE] kernel::memory::frame_allocator: Frame allocator: Attempting to allocate frame #74
[TRACE] kernel::memory::frame_allocator: Frame allocator: Allocated frame 0x4a000 (allocation #74)
[TRACE] kernel::memory::frame_allocator: Frame allocator: Attempting to allocate frame #75
[TRACE] kernel::memory::frame_allocator: Frame allocator: Allocated frame 0x4b000 (allocation #75)
[TRACE] kernel::memory::frame_allocator: Frame allocator: Attempting to allocate frame #76
[TRACE] kernel::memory::frame_allocator: Frame allocator: Allocated frame 0x4c000 (allocation #76)
[TRACE] kernel::memory::frame_allocator: Frame allocator: Attempting to allocate frame #77
[TRACE] kernel::memory::frame_allocator: Frame allocator: Allocated frame 0x4d000 (allocation #77)
[TRACE] kernel::memory::frame_allocator: Frame allocator: Attempting to allocate frame #78
[TRACE] kernel::memory::frame_allocator: Frame allocator: Allocated frame 0x4e000 (allocation #78)
[TRACE] kernel::memory::frame_allocator: Frame allocator: Attempting to allocate frame #79
[TRACE] kernel::memory::frame_allocator: Frame allocator: Allocated frame 0x4f000 (allocation #79)
[TRACE] kernel::memory::frame_allocator: Frame allocator: Attempting to allocate frame #80
[TRACE] kernel::memory::frame_allocator: Frame allocator: Allocated frame 0x50000 (allocation #80)
[TRACE] kernel::memory::frame_allocator: Frame allocator: Attempting to allocate frame #81
[TRACE] kernel::memory::frame_allocator: Frame allocator: Allocated frame 0x51000 (allocation #81)
[TRACE] kernel::memory::frame_allocator: Frame allocator: Attempting to allocate frame #82
[TRACE] kernel::memory::frame_allocator: Frame allocator: Allocated frame 0x52000 (allocation #82)
[TRACE] kernel::memory::frame_allocator: Frame allocator: Attempting to allocate frame #83
[TRACE] kernel::memory::frame_allocator: Frame allocator: Allocated frame 0x53000 (allocation #83)
[TRACE] kernel::memory::frame_allocator: Frame allocator: Attempting to allocate frame #84
[TRACE] kernel::memory::frame_allocator: Frame allocator: Allocated frame 0x54000 (allocation #84)
[TRACE] kernel::memory::frame_allocator: Frame allocator: Attempting to allocate frame #85
[TRACE] kernel::memory::frame_allocator: Frame allocator: Allocated frame 0x55000 (allocation #85)
[TRACE] kernel::memory::frame_allocator: Frame allocator: Attempting to allocate frame #86
[TRACE] kernel::memory::frame_allocator: Frame allocator: Allocated frame 0x56000 (allocation #86)
[TRACE] kernel::memory::frame_allocator: Frame allocator: Attempting to allocate frame #87
[TRACE] kernel::memory::frame_allocator: Frame allocator: Allocated frame 0x57000 (allocation #87)
[TRACE] kernel::memory::frame_allocator: Frame allocator: Attempting to allocate frame #88
[TRACE] kernel::memory::frame_allocator: Frame allocator: Allocated frame 0x58000 (allocation #88)
[TRACE] kernel::memory::frame_allocator: Frame allocator: Attempting to allocate frame #89
[TRACE] kernel::memory::frame_allocator: Frame allocator: Allocated frame 0x59000 (allocation #89)
[TRACE] kernel::memory::frame_allocator: Frame allocator: Attempting to allocate frame #90
[TRACE] kernel::memory::frame_allocator: Frame allocator: Allocated frame 0x5a000 (allocation #90)
[TRACE] kernel::memory::frame_allocator: Frame allocator: Attempting to allocate frame #91
[TRACE] kernel::memory::frame_allocator: Frame allocator: Allocated frame 0x5b000 (allocation #91)
[TRACE] kernel::memory::frame_allocator: Frame allocator: Attempting to allocate frame #92
[TRACE] kernel::memory::frame_allocator: Frame allocator: Allocated frame 0x5c000 (allocation #92)
[TRACE] kernel::memory::frame_allocator: Frame allocator: Attempting to allocate frame #93
[TRACE] kernel::memory::frame_allocator: Frame allocator: Allocated frame 0x5d000 (allocation #93)
[TRACE] kernel::memory::frame_allocator: Frame allocator: Attempting to allocate frame #94
[TRACE] kernel::memory::frame_allocator: Frame allocator: Allocated frame 0x5e000 (allocation #94)
[TRACE] kernel::memory::frame_allocator: Frame allocator: Attempting to allocate frame #95
[TRACE] kernel::memory::frame_allocator: Frame allocator: Allocated frame 0x5f000 (allocation #95)
[TRACE] kernel::memory::frame_allocator: Frame allocator: Attempting to allocate frame #96
[TRACE] kernel::memory::frame_allocator: Frame allocator: Allocated frame 0x60000 (allocation #96)
[TRACE] kernel::memory::frame_allocator: Frame allocator: Attempting to allocate frame #97
[TRACE] kernel::memory::frame_allocator: Frame allocator: Allocated frame 0x61000 (allocation #97)
[TRACE] kernel::memory::frame_allocator: Frame allocator: Attempting to allocate frame #98
[TRACE] kernel::memory::frame_allocator: Frame allocator: Allocated frame 0x62000 (allocation #98)
[TRACE] kernel::memory::frame_allocator: Frame allocator: Attempting to allocate frame #99
[TRACE] kernel::memory::frame_allocator: Frame allocator: Allocated frame 0x63000 (allocation #99)
[TRACE] kernel::memory::frame_allocator: Frame allocator: Attempting to allocate frame #100
[TRACE] kernel::memory::frame_allocator: Frame allocator: Allocated frame 0x64000 (allocation #100)
[TRACE] kernel::memory::frame_allocator: Frame allocator: Attempting to allocate frame #101
[TRACE] kernel::memory::frame_allocator: Frame allocator: Allocated frame 0x65000 (allocation #101)
[TRACE] kernel::memory::frame_allocator: Frame allocator: Attempting to allocate frame #102
[TRACE] kernel::memory::frame_allocator: Frame allocator: Allocated frame 0x66000 (allocation #102)
[TRACE] kernel::memory::frame_allocator: Frame allocator: Attempting to allocate frame #103
[TRACE] kernel::memory::frame_allocator: Frame allocator: Allocated frame 0x67000 (allocation #103)
[TRACE] kernel::memory::frame_allocator: Frame allocator: Attempting to allocate frame #104
[TRACE] kernel::memory::frame_allocator: Frame allocator: Allocated frame 0x68000 (allocation #104)
[TRACE] kernel::memory::frame_allocator: Frame allocator: Attempting to allocate frame #105
[TRACE] kernel::memory::frame_allocator: Frame allocator: Allocated frame 0x69000 (allocation #105)
[TRACE] kernel::memory::frame_allocator: Frame allocator: Attempting to allocate frame #106
[TRACE] kernel::memory::frame_allocator: Frame allocator: Allocated frame 0x6a000 (allocation #106)
[TRACE] kernel::memory::frame_allocator: Frame allocator: Attempting to allocate frame #107
[TRACE] kernel::memory::frame_allocator: Frame allocator: Allocated frame 0x6b000 (allocation #107)
[TRACE] kernel::memory::frame_allocator: Frame allocator: Attempting to allocate frame #108
[TRACE] kernel::memory::frame_allocator: Frame allocator: Allocated frame 0x6c000 (allocation #108)
[TRACE] kernel::memory::frame_allocator: Frame allocator: Attempting to allocate frame #109
[TRACE] kernel::memory::frame_allocator: Frame allocator: Allocated frame 0x6d000 (allocation #109)
[TRACE] kernel::memory::frame_allocator: Frame allocator: Attempting to allocate frame #110
[TRACE] kernel::memory::frame_allocator: Frame allocator: Allocated frame 0x6e000 (allocation #110)
[TRACE] kernel::memory::frame_allocator: Frame allocator: Attempting to allocate frame #111
[TRACE] kernel::memory::frame_allocator: Frame allocator: Allocated frame 0x6f000 (allocation #111)
[TRACE] kernel::memory::frame_allocator: Frame allocator: Attempting to allocate frame #112
[TRACE] kernel::memory::frame_allocator: Frame allocator: Allocated frame 0x70000 (allocation #112)
[TRACE] kernel::memory::frame_allocator: Frame allocator: Attempting to allocate frame #113
[TRACE] kernel::memory::frame_allocator: Frame allocator: Allocated frame 0x71000 (allocation #113)
[TRACE] kernel::memory::frame_allocator: Frame allocator: Attempting to allocate frame #114
[TRACE] kernel::memory::frame_allocator: Frame allocator: Allocated frame 0x72000 (allocation #114)
[TRACE] kernel::memory::frame_allocator: Frame allocator: Attempting to allocate frame #115
[TRACE] kernel::memory::frame_allocator: Frame allocator: Allocated frame 0x73000 (allocation #115)
[TRACE] kernel::memory::frame_allocator: Frame allocator: Attempting to allocate frame #116
[TRACE] kernel::memory::frame_allocator: Frame allocator: Allocated frame 0x74000 (allocation #116)
[TRACE] kernel::memory::frame_allocator: Frame allocator: Attempting to allocate frame #117
[TRACE] kernel::memory::frame_allocator: Frame allocator: Allocated frame 0x75000 (allocation #117)
[TRACE] kernel::memory::frame_allocator: Frame allocator: Attempting to allocate frame #118
[TRACE] kernel::memory::frame_allocator: Frame allocator: Allocated frame 0x76000 (allocation #118)
[TRACE] kernel::memory::frame_allocator: Frame allocator: Attempting to allocate frame #119
[TRACE] kernel::memory::frame_allocator: Frame allocator: Allocated frame 0x77000 (allocation #119)
[TRACE] kernel::memory::frame_allocator: Frame allocator: Attempting to allocate frame #120
[TRACE] kernel::memory::frame_allocator: Frame allocator: Allocated frame 0x78000 (allocation #120)
[TRACE] kernel::memory::frame_allocator: Frame allocator: Attempting to allocate frame #121
[TRACE] kernel::memory::frame_allocator: Frame allocator: Allocated frame 0x79000 (allocation #121)
[TRACE] kernel::memory::frame_allocator: Frame allocator: Attempting to allocate frame #122
[TRACE] kernel::memory::frame_allocator: Frame allocator: Allocated frame 0x7a000 (allocation #122)
[TRACE] kernel::memory::frame_allocator: Frame allocator: Attempting to allocate frame #123
[TRACE] kernel::memory::frame_allocator: Frame allocator: Allocated frame 0x7b000 (allocation #123)
[TRACE] kernel::memory::frame_allocator: Frame allocator: Attempting to allocate frame #124
[TRACE] kernel::memory::frame_allocator: Frame allocator: Allocated frame 0x7c000 (allocation #124)
[TRACE] kernel::memory::frame_allocator: Frame allocator: Attempting to allocate frame #125
[TRACE] kernel::memory::frame_allocator: Frame allocator: Allocated frame 0x7d000 (allocation #125)
[TRACE] kernel::memory::frame_allocator: Frame allocator: Attempting to allocate frame #126
[TRACE] kernel::memory::frame_allocator: Frame allocator: Allocated frame 0x7e000 (allocation #126)
[TRACE] kernel::memory::frame_allocator: Frame allocator: Attempting to allocate frame #127
[TRACE] kernel::memory::frame_allocator: Frame allocator: Allocated frame 0x7f000 (allocation #127)
[TRACE] kernel::memory::frame_allocator: Frame allocator: Attempting to allocate frame #128
[TRACE] kernel::memory::frame_allocator: Frame allocator: Allocated frame 0x80000 (allocation #128)
[TRACE] kernel::memory::frame_allocator: Frame allocator: Attempting to allocate frame #129
[TRACE] kernel::memory::frame_allocator: Frame allocator: Allocated frame 0x81000 (allocation #129)
[TRACE] kernel::memory::frame_allocator: Frame allocator: Attempting to allocate frame #130
[TRACE] kernel::memory::frame_allocator: Frame allocator: Allocated frame 0x82000 (allocation #130)
[TRACE] kernel::memory::frame_allocator: Frame allocator: Attempting to allocate frame #131
[TRACE] kernel::memory::frame_allocator: Frame allocator: Allocated frame 0x83000 (allocation #131)
[TRACE] kernel::memory::frame_allocator: Frame allocator: Attempting to allocate frame #132
[TRACE] kernel::memory::frame_allocator: Frame allocator: Allocated frame 0x84000 (allocation #132)
[TRACE] kernel::memory::frame_allocator: Frame allocator: Attempting to allocate frame #133
[TRACE] kernel::memory::frame_allocator: Frame allocator: Allocated frame 0x85000 (allocation #133)
[TRACE] kernel::memory::frame_allocator: Frame allocator: Attempting to allocate frame #134
[TRACE] kernel::memory::frame_allocator: Frame allocator: Allocated frame 0x86000 (allocation #134)
[TRACE] kernel::memory::frame_allocator: Frame allocator: Attempting to allocate frame #135
[TRACE] kernel::memory::frame_allocator: Frame allocator: Allocated frame 0x87000 (allocation #135)
[TRACE] kernel::memory::frame_allocator: Frame allocator: Attempting to allocate frame #136
[TRACE] kernel::memory::frame_allocator: Frame allocator: Allocated frame 0x88000 (allocation #136)
[TRACE] kernel::memory::frame_allocator: Frame allocator: Attempting to allocate frame #137
[TRACE] kernel::memory::frame_allocator: Frame allocator: Allocated frame 0x89000 (allocation #137)
[TRACE] kernel::memory::frame_allocator: Frame allocator: Attempting to allocate frame #138
[TRACE] kernel::memory::frame_allocator: Frame allocator: Allocated frame 0x8a000 (allocation #138)
[TRACE] kernel::memory::frame_allocator: Frame allocator: Attempting to allocate frame #139
[TRACE] kernel::memory::frame_allocator: Frame allocator: Allocated frame 0x8b000 (allocation #139)
[TRACE] kernel::memory::frame_allocator: Frame allocator: Attempting to allocate frame #140
[TRACE] kernel::memory::frame_allocator: Frame allocator: Allocated frame 0x8c000 (allocation #140)
[TRACE] kernel::memory::frame_allocator: Frame allocator: Attempting to allocate frame #141
[TRACE] kernel::memory::frame_allocator: Frame allocator: Allocated frame 0x8d000 (allocation #141)
[TRACE] kernel::memory::frame_allocator: Frame allocator: Attempting to allocate frame #142
[TRACE] kernel::memory::frame_allocator: Frame allocator: Allocated frame 0x8e000 (allocation #142)
[TRACE] kernel::memory::frame_allocator: Frame allocator: Attempting to allocate frame #143
[TRACE] kernel::memory::frame_allocator: Frame allocator: Allocated frame 0x8f000 (allocation #143)
[TRACE] kernel::memory::frame_allocator: Frame allocator: Attempting to allocate frame #144
[TRACE] kernel::memory::frame_allocator: Frame allocator: Allocated frame 0x90000 (allocation #144)
[TRACE] kernel::memory::frame_allocator: Frame allocator: Attempting to allocate frame #145
[TRACE] kernel::memory::frame_allocator: Frame allocator: Allocated frame 0x91000 (allocation #145)
[TRACE] kernel::memory::frame_allocator: Frame allocator: Attempting to allocate frame #146
[TRACE] kernel::memory::frame_allocator: Frame allocator: Allocated frame 0x92000 (allocation #146)
[TRACE] kernel::memory::frame_allocator: Frame allocator: Attempting to allocate frame #147
[TRACE] kernel::memory::frame_allocator: Frame allocator: Allocated frame 0x93000 (allocation #147)
[TRACE] kernel::memory::frame_allocator: Frame allocator: Attempting to allocate frame #148
[TRACE] kernel::memory::frame_allocator: Frame allocator: Allocated frame 0x94000 (allocation #148)
[TRACE] kernel::memory::frame_allocator: Frame allocator: Attempting to allocate frame #149
[TRACE] kernel::memory::frame_allocator: Frame allocator: Allocated frame 0x95000 (allocation #149)
[TRACE] kernel::memory::frame_allocator: Frame allocator: Attempting to allocate frame #150
[TRACE] kernel::memory::frame_allocator: Frame allocator: Allocated frame 0x96000 (allocation #150)
[TRACE] kernel::memory::frame_allocator: Frame allocator: Attempting to allocate frame #151
[TRACE] kernel::memory::frame_allocator: Frame allocator: Allocated frame 0x97000 (allocation #151)
[TRACE] kernel::memory::frame_allocator: Frame allocator: Attempting to allocate frame #152
[TRACE] kernel::memory::frame_allocator: Frame allocator: Allocated frame 0x98000 (allocation #152)
[TRACE] kernel::memory::frame_allocator: Frame allocator: Attempting to allocate frame #153
[TRACE] kernel::memory::frame_allocator: Frame allocator: Allocated frame 0x99000 (allocation #153)
[TRACE] kernel::memory::frame_allocator: Frame allocator: Attempting to allocate frame #154
[TRACE] kernel::memory::frame_allocator: Frame allocator: Allocated frame 0x9a000 (allocation #154)
[TRACE] kernel::memory::frame_allocator: Frame allocator: Attempting to allocate frame #155
[TRACE] kernel::memory::frame_allocator: Frame allocator: Allocated frame 0x9b000 (allocation #155)
[TRACE] kernel::memory::frame_allocator: Frame allocator: Attempting to allocate frame #156
[TRACE] kernel::memory::frame_allocator: Frame allocator: Allocated frame 0x9c000 (allocation #156)
[TRACE] kernel::memory::frame_allocator: Frame allocator: Attempting to allocate frame #157
[TRACE] kernel::memory::frame_allocator: Frame allocator: Allocated frame 0x9d000 (allocation #157)
[TRACE] kernel::memory::frame_allocator: Frame allocator: Attempting to allocate frame #158
[TRACE] kernel::memory::frame_allocator: Frame allocator: Allocated frame 0x9e000 (allocation #158)
[TRACE] kernel::memory::frame_allocator: Frame allocator: Attempting to allocate frame #159
[TRACE] kernel::memory::frame_allocator: Frame allocator: Allocated frame 0x9f000 (allocation #159)
[TRACE] kernel::memory::frame_allocator: Frame allocator: Attempting to allocate frame #160
[TRACE] kernel::memory::frame_allocator: Frame allocator: Allocated frame 0x54d000 (allocation #160)
[TRACE] kernel::memory::frame_allocator: Frame allocator: Attempting to allocate frame #161
[TRACE] kernel::memory::frame_allocator: Frame allocator: Allocated frame 0x54e000 (allocation #161)
[TRACE] kernel::memory::frame_allocator: Frame allocator: Attempting to allocate frame #162
[TRACE] kernel::memory::frame_allocator: Frame allocator: Allocated frame 0x54f000 (allocation #162)
[TRACE] kernel::memory::frame_allocator: Frame allocator: Attempting to allocate frame #163
[TRACE] kernel::memory::frame_allocator: Frame allocator: Allocated frame 0x550000 (allocation #163)
[TRACE] kernel::memory::frame_allocator: Frame allocator: Attempting to allocate frame #164
[TRACE] kernel::memory::frame_allocator: Frame allocator: Allocated frame 0x551000 (allocation #164)
[TRACE] kernel::memory::frame_allocator: Frame allocator: Attempting to allocate frame #165
[TRACE] kernel::memory::frame_allocator: Frame allocator: Allocated frame 0x552000 (allocation #165)
[TRACE] kernel::memory::frame_allocator: Frame allocator: Attempting to allocate frame #166
[TRACE] kernel::memory::frame_allocator: Frame allocator: Allocated frame 0x553000 (allocation #166)
[TRACE] kernel::memory::frame_allocator: Frame allocator: Attempting to allocate frame #167
[TRACE] kernel::memory::frame_allocator: Frame allocator: Allocated frame 0x554000 (allocation #167)
[TRACE] kernel::memory::frame_allocator: Frame allocator: Attempting to allocate frame #168
[TRACE] kernel::memory::frame_allocator: Frame allocator: Allocated frame 0x555000 (allocation #168)
[TRACE] kernel::memory::frame_allocator: Frame allocator: Attempting to allocate frame #169
[TRACE] kernel::memory::frame_allocator: Frame allocator: Allocated frame 0x556000 (allocation #169)
[TRACE] kernel::memory::frame_allocator: Frame allocator: Attempting to allocate frame #170
[TRACE] kernel::memory::frame_allocator: Frame allocator: Allocated frame 0x557000 (allocation #170)
[TRACE] kernel::memory::frame_allocator: Frame allocator: Attempting to allocate frame #171
[TRACE] kernel::memory::frame_allocator: Frame allocator: Allocated frame 0x558000 (allocation #171)
[TRACE] kernel::memory::frame_allocator: Frame allocator: Attempting to allocate frame #172
[TRACE] kernel::memory::frame_allocator: Frame allocator: Allocated frame 0x559000 (allocation #172)
[TRACE] kernel::memory::frame_allocator: Frame allocator: Attempting to allocate frame #173
[TRACE] kernel::memory::frame_allocator: Frame allocator: Allocated frame 0x55a000 (allocation #173)
[TRACE] kernel::memory::frame_allocator: Frame allocator: Attempting to allocate frame #174
[TRACE] kernel::memory::frame_allocator: Frame allocator: Allocated frame 0x55b000 (allocation #174)
[TRACE] kernel::memory::frame_allocator: Frame allocator: Attempting to allocate frame #175
[TRACE] kernel::memory::frame_allocator: Frame allocator: Allocated frame 0x55c000 (allocation #175)
[TRACE] kernel::memory::frame_allocator: Frame allocator: Attempting to allocate frame #176
[TRACE] kernel::memory::frame_allocator: Frame allocator: Allocated frame 0x55d000 (allocation #176)
[TRACE] kernel::memory::frame_allocator: Frame allocator: Attempting to allocate frame #177
[TRACE] kernel::memory::frame_allocator: Frame allocator: Allocated frame 0x55e000 (allocation #177)
[TRACE] kernel::memory::frame_allocator: Frame allocator: Attempting to allocate frame #178
[TRACE] kernel::memory::frame_allocator: Frame allocator: Allocated frame 0x55f000 (allocation #178)
[TRACE] kernel::memory::frame_allocator: Frame allocator: Attempting to allocate frame #179
[TRACE] kernel::memory::frame_allocator: Frame allocator: Allocated frame 0x560000 (allocation #179)
[TRACE] kernel::memory::frame_allocator: Frame allocator: Attempting to allocate frame #180
[TRACE] kernel::memory::frame_allocator: Frame allocator: Allocated frame 0x561000 (allocation #180)
[TRACE] kernel::memory::frame_allocator: Frame allocator: Attempting to allocate frame #181
[TRACE] kernel::memory::frame_allocator: Frame allocator: Allocated frame 0x562000 (allocation #181)
[TRACE] kernel::memory::frame_allocator: Frame allocator: Attempting to allocate frame #182
[TRACE] kernel::memory::frame_allocator: Frame allocator: Allocated frame 0x563000 (allocation #182)
[TRACE] kernel::memory::frame_allocator: Frame allocator: Attempting to allocate frame #183
[TRACE] kernel::memory::frame_allocator: Frame allocator: Allocated frame 0x564000 (allocation #183)
[TRACE] kernel::memory::frame_allocator: Frame allocator: Attempting to allocate frame #184
[TRACE] kernel::memory::frame_allocator: Frame allocator: Allocated frame 0x565000 (allocation #184)
[TRACE] kernel::memory::frame_allocator: Frame allocator: Attempting to allocate frame #185
[TRACE] kernel::memory::frame_allocator: Frame allocator: Allocated frame 0x566000 (allocation #185)
[TRACE] kernel::memory::frame_allocator: Frame allocator: Attempting to allocate frame #186
[TRACE] kernel::memory::frame_allocator: Frame allocator: Allocated frame 0x567000 (allocation #186)
[TRACE] kernel::memory::frame_allocator: Frame allocator: Attempting to allocate frame #187
[TRACE] kernel::memory::frame_allocator: Frame allocator: Allocated frame 0x568000 (allocation #187)
[TRACE] kernel::memory::frame_allocator: Frame allocator: Attempting to allocate frame #188
[TRACE] kernel::memory::frame_allocator: Frame allocator: Allocated frame 0x569000 (allocation #188)
[TRACE] kernel::memory::frame_allocator: Frame allocator: Attempting to allocate frame #189
[TRACE] kernel::memory::frame_allocator: Frame allocator: Allocated frame 0x56a000 (allocation #189)
[TRACE] kernel::memory::frame_allocator: Frame allocator: Attempting to allocate frame #190
[TRACE] kernel::memory::frame_allocator: Frame allocator: Allocated frame 0x56b000 (allocation #190)
[TRACE] kernel::memory::frame_allocator: Frame allocator: Attempting to allocate frame #191
[TRACE] kernel::memory::frame_allocator: Frame allocator: Allocated frame 0x56c000 (allocation #191)
[TRACE] kernel::memory::frame_allocator: Frame allocator: Attempting to allocate frame #192
[TRACE] kernel::memory::frame_allocator: Frame allocator: Allocated frame 0x56d000 (allocation #192)
[TRACE] kernel::memory::frame_allocator: Frame allocator: Attempting to allocate frame #193
[TRACE] kernel::memory::frame_allocator: Frame allocator: Allocated frame 0x56e000 (allocation #193)
[TRACE] kernel::memory::frame_allocator: Frame allocator: Attempting to allocate frame #194
[TRACE] kernel::memory::frame_allocator: Frame allocator: Allocated frame 0x56f000 (allocation #194)
[TRACE] kernel::memory::frame_allocator: Frame allocator: Attempting to allocate frame #195
[TRACE] kernel::memory::frame_allocator: Frame allocator: Allocated frame 0x570000 (allocation #195)
[TRACE] kernel::memory::frame_allocator: Frame allocator: Attempting to allocate frame #196
[TRACE] kernel::memory::frame_allocator: Frame allocator: Allocated frame 0x571000 (allocation #196)
[TRACE] kernel::memory::frame_allocator: Frame allocator: Attempting to allocate frame #197
[TRACE] kernel::memory::frame_allocator: Frame allocator: Allocated frame 0x572000 (allocation #197)
[TRACE] kernel::memory::frame_allocator: Frame allocator: Attempting to allocate frame #198
[TRACE] kernel::memory::frame_allocator: Frame allocator: Allocated frame 0x573000 (allocation #198)
[TRACE] kernel::memory::frame_allocator: Frame allocator: Attempting to allocate frame #199
[TRACE] kernel::memory::frame_allocator: Frame allocator: Allocated frame 0x574000 (allocation #199)
[TRACE] kernel::memory::frame_allocator: Frame allocator: Attempting to allocate frame #200
[TRACE] kernel::memory::frame_allocator: Frame allocator: Allocated frame 0x575000 (allocation #200)
[TRACE] kernel::memory::frame_allocator: Frame allocator: Attempting to allocate frame #201
[TRACE] kernel::memory::frame_allocator: Frame allocator: Allocated frame 0x576000 (allocation #201)
[TRACE] kernel::memory::frame_allocator: Frame allocator: Attempting to allocate frame #202
[TRACE] kernel::memory::frame_allocator: Frame allocator: Allocated frame 0x577000 (allocation #202)
[TRACE] kernel::memory::frame_allocator: Frame allocator: Attempting to allocate frame #203
[TRACE] kernel::memory::frame_allocator: Frame allocator: Allocated frame 0x578000 (allocation #203)
[TRACE] kernel::memory::frame_allocator: Frame allocator: Attempting to allocate frame #204
[TRACE] kernel::memory::frame_allocator: Frame allocator: Allocated frame 0x579000 (allocation #204)
[TRACE] kernel::memory::frame_allocator: Frame allocator: Attempting to allocate frame #205
[TRACE] kernel::memory::frame_allocator: Frame allocator: Allocated frame 0x57a000 (allocation #205)
[TRACE] kernel::memory::frame_allocator: Frame allocator: Attempting to allocate frame #206
[TRACE] kernel::memory::frame_allocator: Frame allocator: Allocated frame 0x57b000 (allocation #206)
[TRACE] kernel::memory::frame_allocator: Frame allocator: Attempting to allocate frame #207
[TRACE] kernel::memory::frame_allocator: Frame allocator: Allocated frame 0x57c000 (allocation #207)
[TRACE] kernel::memory::frame_allocator: Frame allocator: Attempting to allocate frame #208
[TRACE] kernel::memory::frame_allocator: Frame allocator: Allocated frame 0x57d000 (allocation #208)
[TRACE] kernel::memory::frame_allocator: Frame allocator: Attempting to allocate frame #209
[TRACE] kernel::memory::frame_allocator: Frame allocator: Allocated frame 0x57e000 (allocation #209)
[TRACE] kernel::memory::frame_allocator: Frame allocator: Attempting to allocate frame #210
[TRACE] kernel::memory::frame_allocator: Frame allocator: Allocated frame 0x57f000 (allocation #210)
[TRACE] kernel::memory::frame_allocator: Frame allocator: Attempting to allocate frame #211
[TRACE] kernel::memory::frame_allocator: Frame allocator: Allocated frame 0x580000 (allocation #211)
[TRACE] kernel::memory::frame_allocator: Frame allocator: Attempting to allocate frame #212
[TRACE] kernel::memory::frame_allocator: Frame allocator: Allocated frame 0x581000 (allocation #212)
[TRACE] kernel::memory::frame_allocator: Frame allocator: Attempting to allocate frame #213
[TRACE] kernel::memory::frame_allocator: Frame allocator: Allocated frame 0x582000 (allocation #213)
[TRACE] kernel::memory::frame_allocator: Frame allocator: Attempting to allocate frame #214
[TRACE] kernel::memory::frame_allocator: Frame allocator: Allocated frame 0x583000 (allocation #214)
[TRACE] kernel::memory::frame_allocator: Frame allocator: Attempting to allocate frame #215
[TRACE] kernel::memory::frame_allocator: Frame allocator: Allocated frame 0x584000 (allocation #215)
[TRACE] kernel::memory::frame_allocator: Frame allocator: Attempting to allocate frame #216
[TRACE] kernel::memory::frame_allocator: Frame allocator: Allocated frame 0x585000 (allocation #216)
[TRACE] kernel::memory::frame_allocator: Frame allocator: Attempting to allocate frame #217
[TRACE] kernel::memory::frame_allocator: Frame allocator: Allocated frame 0x586000 (allocation #217)
[TRACE] kernel::memory::frame_allocator: Frame allocator: Attempting to allocate frame #218
[TRACE] kernel::memory::frame_allocator: Frame allocator: Allocated frame 0x587000 (allocation #218)
[TRACE] kernel::memory::frame_allocator: Frame allocator: Attempting to allocate frame #219
[TRACE] kernel::memory::frame_allocator: Frame allocator: Allocated frame 0x588000 (allocation #219)
[TRACE] kernel::memory::frame_allocator: Frame allocator: Attempting to allocate frame #220
[TRACE] kernel::memory::frame_allocator: Frame allocator: Allocated frame 0x589000 (allocation #220)
[TRACE] kernel::memory::frame_allocator: Frame allocator: Attempting to allocate frame #221
[TRACE] kernel::memory::frame_allocator: Frame allocator: Allocated frame 0x58a000 (allocation #221)
[TRACE] kernel::memory::frame_allocator: Frame allocator: Attempting to allocate frame #222
[TRACE] kernel::memory::frame_allocator: Frame allocator: Allocated frame 0x58b000 (allocation #222)
[TRACE] kernel::memory::frame_allocator: Frame allocator: Attempting to allocate frame #223
[TRACE] kernel::memory::frame_allocator: Frame allocator: Allocated frame 0x58c000 (allocation #223)
[TRACE] kernel::memory::frame_allocator: Frame allocator: Attempting to allocate frame #224
[TRACE] kernel::memory::frame_allocator: Frame allocator: Allocated frame 0x58d000 (allocation #224)
[TRACE] kernel::memory::frame_allocator: Frame allocator: Attempting to allocate frame #225
[TRACE] kernel::memory::frame_allocator: Frame allocator: Allocated frame 0x58e000 (allocation #225)
[TRACE] kernel::memory::frame_allocator: Frame allocator: Attempting to allocate frame #226
[TRACE] kernel::memory::frame_allocator: Frame allocator: Allocated frame 0x58f000 (allocation #226)
[TRACE] kernel::memory::frame_allocator: Frame allocator: Attempting to allocate frame #227
[TRACE] kernel::memory::frame_allocator: Frame allocator: Allocated frame 0x590000 (allocation #227)
[TRACE] kernel::memory::frame_allocator: Frame allocator: Attempting to allocate frame #228
[TRACE] kernel::memory::frame_allocator: Frame allocator: Allocated frame 0x591000 (allocation #228)
[TRACE] kernel::memory::frame_allocator: Frame allocator: Attempting to allocate frame #229
[TRACE] kernel::memory::frame_allocator: Frame allocator: Allocated frame 0x592000 (allocation #229)
[TRACE] kernel::memory::frame_allocator: Frame allocator: Attempting to allocate frame #230
[TRACE] kernel::memory::frame_allocator: Frame allocator: Allocated frame 0x593000 (allocation #230)
[TRACE] kernel::memory::frame_allocator: Frame allocator: Attempting to allocate frame #231
[TRACE] kernel::memory::frame_allocator: Frame allocator: Allocated frame 0x594000 (allocation #231)
[TRACE] kernel::memory::frame_allocator: Frame allocator: Attempting to allocate frame #232
[TRACE] kernel::memory::frame_allocator: Frame allocator: Allocated frame 0x595000 (allocation #232)
[TRACE] kernel::memory::frame_allocator: Frame allocator: Attempting to allocate frame #233
[TRACE] kernel::memory::frame_allocator: Frame allocator: Allocated frame 0x596000 (allocation #233)
[TRACE] kernel::memory::frame_allocator: Frame allocator: Attempting to allocate frame #234
[TRACE] kernel::memory::frame_allocator: Frame allocator: Allocated frame 0x597000 (allocation #234)
[TRACE] kernel::memory::frame_allocator: Frame allocator: Attempting to allocate frame #235
[TRACE] kernel::memory::frame_allocator: Frame allocator: Allocated frame 0x598000 (allocation #235)
[TRACE] kernel::memory::frame_allocator: Frame allocator: Attempting to allocate frame #236
[TRACE] kernel::memory::frame_allocator: Frame allocator: Allocated frame 0x599000 (allocation #236)
[TRACE] kernel::memory::frame_allocator: Frame allocator: Attempting to allocate frame #237
[TRACE] kernel::memory::frame_allocator: Frame allocator: Allocated frame 0x59a000 (allocation #237)
[TRACE] kernel::memory::frame_allocator: Frame allocator: Attempting to allocate frame #238
[TRACE] kernel::memory::frame_allocator: Frame allocator: Allocated frame 0x59b000 (allocation #238)
[TRACE] kernel::memory::frame_allocator: Frame allocator: Attempting to allocate frame #239
[TRACE] kernel::memory::frame_allocator: Frame allocator: Allocated frame 0x59c000 (allocation #239)
[TRACE] kernel::memory::frame_allocator: Frame allocator: Attempting to allocate frame #240
[TRACE] kernel::memory::frame_allocator: Frame allocator: Allocated frame 0x59d000 (allocation #240)
[TRACE] kernel::memory::frame_allocator: Frame allocator: Attempting to allocate frame #241
[TRACE] kernel::memory::frame_allocator: Frame allocator: Allocated frame 0x59e000 (allocation #241)
[TRACE] kernel::memory::frame_allocator: Frame allocator: Attempting to allocate frame #242
[TRACE] kernel::memory::frame_allocator: Frame allocator: Allocated frame 0x59f000 (allocation #242)
[TRACE] kernel::memory::frame_allocator: Frame allocator: Attempting to allocate frame #243
[TRACE] kernel::memory::frame_allocator: Frame allocator: Allocated frame 0x5a0000 (allocation #243)
[TRACE] kernel::memory::frame_allocator: Frame allocator: Attempting to allocate frame #244
[TRACE] kernel::memory::frame_allocator: Frame allocator: Allocated frame 0x5a1000 (allocation #244)
[TRACE] kernel::memory::frame_allocator: Frame allocator: Attempting to allocate frame #245
[TRACE] kernel::memory::frame_allocator: Frame allocator: Allocated frame 0x5a2000 (allocation #245)
[TRACE] kernel::memory::frame_allocator: Frame allocator: Attempting to allocate frame #246
[TRACE] kernel::memory::frame_allocator: Frame allocator: Allocated frame 0x5a3000 (allocation #246)
[TRACE] kernel::memory::frame_allocator: Frame allocator: Attempting to allocate frame #247
[TRACE] kernel::memory::frame_allocator: Frame allocator: Allocated frame 0x5a4000 (allocation #247)
[TRACE] kernel::memory::frame_allocator: Frame allocator: Attempting to allocate frame #248
[TRACE] kernel::memory::frame_allocator: Frame allocator: Allocated frame 0x5a5000 (allocation #248)
[TRACE] kernel::memory::frame_allocator: Frame allocator: Attempting to allocate frame #249
[TRACE] kernel::memory::frame_allocator: Frame allocator: Allocated frame 0x5a6000 (allocation #249)
[TRACE] kernel::memory::frame_allocator: Frame allocator: Attempting to allocate frame #250
[TRACE] kernel::memory::frame_allocator: Frame allocator: Allocated frame 0x5a7000 (allocation #250)
[TRACE] kernel::memory::frame_allocator: Frame allocator: Attempting to allocate frame #251
[TRACE] kernel::memory::frame_allocator: Frame allocator: Allocated frame 0x5a8000 (allocation #251)
[TRACE] kernel::memory::frame_allocator: Frame allocator: Attempting to allocate frame #252
[TRACE] kernel::memory::frame_allocator: Frame allocator: Allocated frame 0x5a9000 (allocation #252)
[TRACE] kernel::memory::frame_allocator: Frame allocator: Attempting to allocate frame #253
[TRACE] kernel::memory::frame_allocator: Frame allocator: Allocated frame 0x5aa000 (allocation #253)
[TRACE] kernel::memory::frame_allocator: Frame allocator: Attempting to allocate frame #254
[TRACE] kernel::memory::frame_allocator: Frame allocator: Allocated frame 0x5ab000 (allocation #254)
[TRACE] kernel::memory::frame_allocator: Frame allocator: Attempting to allocate frame #255
[TRACE] kernel::memory::frame_allocator: Frame allocator: Allocated frame 0x5ac000 (allocation #255)
[TRACE] kernel::memory::frame_allocator: Frame allocator: Attempting to allocate frame #256
[TRACE] kernel::memory::frame_allocator: Frame allocator: Allocated frame 0x5ad000 (allocation #256)
[TRACE] kernel::memory::frame_allocator: Frame allocator: Attempting to allocate frame #257
[TRACE] kernel::memory::frame_allocator: Frame allocator: Allocated frame 0x5ae000 (allocation #257)
[TRACE] kernel::memory::frame_allocator: Frame allocator: Attempting to allocate frame #258
[TRACE] kernel::memory::frame_allocator: Frame allocator: Allocated frame 0x5af000 (allocation #258)
[TRACE] kernel::memory::frame_allocator: Frame allocator: Attempting to allocate frame #259
[TRACE] kernel::memory::frame_allocator: Frame allocator: Allocated frame 0x5b0000 (allocation #259)
[ INFO] kernel::memory::heap: Heap initialized at 0x444444440000 with size 1024 KiB
[ INFO] kernel::memory: Initializing stack allocation system...
[ INFO] kernel::memory::stack: Stack allocation system initialized
[ INFO] kernel::memory: Initializing kernel stack allocator...
[ INFO] kernel::memory::kernel_stack: Kernel stack allocator initialized: 1365 slots available
[ INFO] kernel::memory::kernel_stack:   Stack range: 0xffffc90000000000 - 0xffffc90001000000
[ INFO] kernel::memory::kernel_stack:   Stack size: 8 KiB + 4 KiB guard
[ INFO] kernel::memory: Initializing per-CPU emergency stacks...
[ INFO] kernel::memory::per_cpu_stack: Initializing per-CPU emergency stacks for 1 CPUs
[TRACE] kernel::memory::frame_allocator: Frame allocator: Attempting to allocate frame #260
[TRACE] kernel::memory::frame_allocator: Frame allocator: Allocated frame 0x5b1000 (allocation #260)
[TRACE] kernel::memory::frame_allocator: Frame allocator: Attempting to allocate frame #261
[TRACE] kernel::memory::frame_allocator: Frame allocator: Allocated frame 0x5b2000 (allocation #261)
[TRACE] kernel::memory::frame_allocator: Frame allocator: Attempting to allocate frame #262
[TRACE] kernel::memory::frame_allocator: Frame allocator: Allocated frame 0x5b3000 (allocation #262)
[TRACE] kernel::memory::kernel_page_table: Mapped kernel page VirtAddr(0xffffc98000000000) -> PhysAddr(0x5b1000) with flags PageTableFlags(PRESENT | WRITABLE)
[TRACE] kernel::memory::frame_allocator: Frame allocator: Attempting to allocate frame #263
[TRACE] kernel::memory::frame_allocator: Frame allocator: Allocated frame 0x5b4000 (allocation #263)
[TRACE] kernel::memory::kernel_page_table: Mapped kernel page VirtAddr(0xffffc98000001000) -> PhysAddr(0x5b4000) with flags PageTableFlags(PRESENT | WRITABLE)
[DEBUG] kernel::memory::per_cpu_stack: CPU 0 emergency stack: 0xffffc98000000000 - 0xffffc98000002000
[ INFO] kernel::memory::per_cpu_stack: Initialized 1 per-CPU emergency stacks
[ INFO] kernel::memory: Memory management initialized
[ INFO] kernel::gdt: Updated IST[0] (double fault stack) to 0xffffc98000002000
[ INFO] kernel: Updated IST[0] with per-CPU emergency stack
[ INFO] kernel: Testing heap allocation...
[ INFO] kernel: Heap test: created vector with 10 elements
[ INFO] kernel: Heap test: sum of elements = 45
[ INFO] kernel: Heap allocation test passed!
[ INFO] kernel::tls: Initializing Thread Local Storage (TLS) system...
[TRACE] kernel::memory::frame_allocator: Frame allocator: Attempting to allocate frame #264
[TRACE] kernel::memory::frame_allocator: Frame allocator: Allocated frame 0x5b5000 (allocation #264)
[ERROR] kernel::tls: Failed to set up kernel TLS: "Failed to map TLS page"
[ INFO] kernel: TLS initialized
[ INFO] kernel::tls: SWAPGS support configured: KERNEL_GS_BASE = 0x0
[ INFO] kernel: SWAPGS support enabled
[ INFO] kernel::time::timer: Timer initialized with RTC time: 1753140842
[ INFO] kernel: Timer initialized
[ INFO] kernel: Keyboard queue initialized
[ INFO] kernel: Initializing PIC...
[ INFO] kernel: PIC initialized
[ INFO] kernel::serial: Serial input interrupts enabled
[ INFO] kernel: Initializing system call infrastructure...
[ INFO] kernel::syscall: Initializing system call infrastructure
[ INFO] kernel::syscall: System call infrastructure initialized
[ INFO] kernel: System call infrastructure initialized
[ INFO] kernel: Initializing threading subsystem...
[ INFO] kernel::task::scheduler: Scheduler initialized
[ INFO] kernel: Threading subsystem initialized
[ INFO] kernel: Initializing process management...
[ INFO] kernel::process: Process management initialized
[ INFO] kernel: Process management initialized
[ INFO] kernel: Enabling interrupts...
[ INFO] kernel: Interrupts enabled!
[ INFO] kernel: Testing breakpoint interrupt...
[ INFO] kernel::interrupts: EXCEPTION: BREAKPOINT
InterruptStackFrame {
    instruction_pointer: VirtAddr(
        0x1000008ef61,
    ),
    code_segment: SegmentSelector {
        index: 1,
        rpl: Ring0,
    },
    cpu_flags: RFlags(
        INTERRUPT_FLAG | PARITY_FLAG | 0x2,
    ),
    stack_pointer: VirtAddr(
        0x180000132b8,
    ),
    stack_segment: SegmentSelector {
        index: 2,
        rpl: Ring0,
    },
}
[ INFO] kernel: Breakpoint test completed!
[ INFO] kernel: Running kernel tests...
[ INFO] kernel: Skipping GDT tests temporarily
[ INFO] kernel: Skipping TLS test temporarily
[ INFO] kernel: Skipping threading test due to stack allocation hang
DEBUG: About to print 'All kernel tests passed!'
[ INFO] kernel: All kernel tests passed!
DEBUG: After printing 'All kernel tests passed!'
DEBUG: After testing block (serial_println)
[ INFO] kernel: After testing block, continuing...
Before Simple log 1
[ INFO] kernel: Simple log message 1
After Simple log 1
Before interrupt check
After interrupt check
[ INFO] kernel: Simple log message 2
After Simple log 2
[ INFO] kernel: Interrupts are still enabled
[ INFO] kernel: About to check exception test features...
[ INFO] kernel: Skipping timer tests due to hangs
[ INFO] kernel: DEBUG: About to call test_syscalls()
DEBUG: test_syscalls() function entered
[ INFO] kernel: DEBUG: About to return from test_syscalls
[ INFO] kernel: DEBUG: test_syscalls() completed
[ INFO] kernel: DEBUG: Running test_userspace_syscalls()
[ INFO] kernel::userspace_test: === Testing Userspace Syscalls ===
[ INFO] kernel::userspace_test: Userspace test binary size: 9024 bytes
[ INFO] kernel::userspace_test: First 4 bytes: 7f 45 4c 46
[ WARN] kernel::userspace_test: Note: Userspace syscall test requires scheduler initialization
[ WARN] kernel::userspace_test: Skipping actual spawn test - scheduler not yet initialized during testing phase
[ INFO] kernel::userspace_test: ✓ ELF magic verified
[ INFO] kernel::userspace_test: ✓ 64-bit little-endian ELF
[ INFO] kernel::userspace_test: ✓ x86_64 executable
[ INFO] kernel::userspace_test: ✓ Entry point: 0x10000000
[ INFO] kernel::userspace_test: ✓ 3 program headers at offset 0x40
[ INFO] kernel::userspace_test: Userspace syscall test completed (parsing only)
[ INFO] kernel: === BASELINE TEST: Direct userspace execution ===
[ INFO] kernel::test_exec: === MULTIPLE CONCURRENT PROCESSES TEST ===
[ INFO] kernel::test_exec: Testing page table isolation with concurrent hello_time.elf processes
[ INFO] kernel::test_exec: CONCURRENCY TEST: Loading hello_time.elf, size: 9024 bytes
[ INFO] kernel::process::creation: create_user_process: Creating user process 'hello_time_test' with new model
[DEBUG] kernel::process: Acquiring PROCESS_MANAGER lock
[DEBUG] kernel::process: PROCESS_MANAGER lock acquired
[DEBUG] kernel::memory::process_memory: ProcessPageTable::new() - Current RSP: 0x18000010de0
[ERROR] kernel::memory::process_memory: WARNING: Low stack detected! RSP=0x18000010de0
[ERROR] kernel::memory::process_memory: This might cause a stack overflow!
[DEBUG] kernel::memory::process_memory: ProcessPageTable::new() - About to allocate L4 frame
[TRACE] kernel::memory::frame_allocator: Frame allocator: Attempting to allocate frame #265
[TRACE] kernel::memory::frame_allocator: Frame allocator: Allocated frame 0x5b6000 (allocation #265)
[DEBUG] kernel::memory::process_memory: Successfully allocated frame: 0x5b6000
[DEBUG] kernel::memory::process_memory: Allocated L4 frame: 0x5b6000
[DEBUG] kernel::memory::process_memory: Physical memory offset: 0x28000000000
[DEBUG] kernel::memory::process_memory: New L4 table virtual address: 0x280005b6000
[DEBUG] kernel::memory::process_memory: About to create mutable reference to page table at 0x280005b6000
[DEBUG] kernel::memory::process_memory: Testing read access at 0x280005b6000
[DEBUG] kernel::memory::process_memory: Read test successful
[DEBUG] kernel::memory::process_memory: Page table pointer: 0x280005b6000
[DEBUG] kernel::memory::process_memory: About to zero the new page table
[DEBUG] kernel::memory::process_memory: Successfully zeroed new page table
[DEBUG] kernel::memory::process_memory: ProcessPageTable::new() - Current CR3: 0x101000
[DEBUG] kernel::memory::process_memory: ProcessPageTable::new() - Using kernel CR3: 0x101000 for copying
[DEBUG] kernel::memory::process_memory: Kernel L4 table virtual address: 0x28000101000
[DEBUG] kernel::memory::process_memory: Using global kernel PDPT frame: PhysFrame[4KiB](0x0)
[DEBUG] kernel::memory::process_memory: Set up global kernel page table entries 256-511
[DEBUG] kernel::memory::process_memory: Copied low-memory kernel PML4 entry 2
[DEBUG] kernel::memory::process_memory: Copied low-memory kernel PML4 entry 3
[DEBUG] kernel::memory::process_memory: Copied low-memory kernel PML4 entry 4
[DEBUG] kernel::memory::process_memory: Copied low-memory kernel PML4 entry 5
[DEBUG] kernel::memory::process_memory: Copied low-memory kernel PML4 entry 6
[DEBUG] kernel::memory::process_memory: Copied low-memory kernel PML4 entry 7
[DEBUG] kernel::memory::process_memory: Copied low-memory kernel PML4 entry 136
[DEBUG] kernel::memory::process_memory: Process page table created with global kernel mappings (7 low entries + 256 high entries)
[DEBUG] kernel::memory::process_memory: Creating OffsetPageTable with L4 frame 0x5b6000 and phys_offset 0x28000000000
[DEBUG] kernel::memory::process_memory: ProcessPageTable created with global kernel page tables
[ INFO] kernel::elf: Loading ELF into process page table: entry=0x10000000, 3 program headers
[DEBUG] kernel::elf: Loading segment into page table: vaddr=0x10000000, filesz=0x2fe, memsz=0x2fe, flags=0x5
[DEBUG] kernel::elf: Linux-style ELF loading: staying in kernel space, using physical memory access
[DEBUG] kernel::elf: Processing page 0x10000000
[TRACE] kernel::memory::frame_allocator: Frame allocator: Attempting to allocate frame #266
[TRACE] kernel::memory::frame_allocator: Frame allocator: Allocated frame 0x5b7000 (allocation #266)
[DEBUG] kernel::elf: Allocated frame 0x5b7000 for page 0x10000000
[DEBUG] kernel::elf: Mapping page 0x10000000 to frame 0x5b7000 with flags PageTableFlags(PRESENT | USER_ACCESSIBLE)
[DEBUG] kernel::elf: About to call page_table.map_page...
[TRACE] kernel::memory::process_memory: ProcessPageTable::map_page called for page 0x10000000
[TRACE] kernel::memory::process_memory: About to call mapper.map_to...
[TRACE] kernel::memory::frame_allocator: Frame allocator: Attempting to allocate frame #267
[TRACE] kernel::memory::frame_allocator: Frame allocator: Allocated frame 0x5b8000 (allocation #267)
[TRACE] kernel::memory::frame_allocator: Frame allocator: Attempting to allocate frame #268
[TRACE] kernel::memory::frame_allocator: Frame allocator: Allocated frame 0x5b9000 (allocation #268)
[TRACE] kernel::memory::frame_allocator: Frame allocator: Attempting to allocate frame #269
[TRACE] kernel::memory::frame_allocator: Frame allocator: Allocated frame 0x5ba000 (allocation #269)
[TRACE] kernel::memory::process_memory: mapper.map_to succeeded, TLB flush deferred
[DEBUG] kernel::elf: Successfully mapped page 0x10000000
[DEBUG] kernel::elf: After page_table.map_page
[DEBUG] kernel::elf: Copied 766 bytes to frame 0x5b7000 (page 0x10000000) at offset 0 using physical access
[DEBUG] kernel::elf: Successfully loaded segment with 1 pages using Linux-style physical memory access
[DEBUG] kernel::elf: Loading segment into page table: vaddr=0x10001000, filesz=0x13c, memsz=0x13c, flags=0x4
[DEBUG] kernel::elf: Linux-style ELF loading: staying in kernel space, using physical memory access
[DEBUG] kernel::elf: Processing page 0x10001000
[TRACE] kernel::memory::frame_allocator: Frame allocator: Attempting to allocate frame #270
[TRACE] kernel::memory::frame_allocator: Frame allocator: Allocated frame 0x5bb000 (allocation #270)
[DEBUG] kernel::elf: Allocated frame 0x5bb000 for page 0x10001000
[DEBUG] kernel::elf: Mapping page 0x10001000 to frame 0x5bb000 with flags PageTableFlags(PRESENT | USER_ACCESSIBLE | NO_EXECUTE)
[DEBUG] kernel::elf: About to call page_table.map_page...
[TRACE] kernel::memory::process_memory: ProcessPageTable::map_page called for page 0x10001000
[TRACE] kernel::memory::process_memory: About to call mapper.map_to...
[TRACE] kernel::memory::process_memory: mapper.map_to succeeded, TLB flush deferred
[DEBUG] kernel::elf: Successfully mapped page 0x10001000
[DEBUG] kernel::elf: After page_table.map_page
[DEBUG] kernel::elf: Copied 316 bytes to frame 0x5bb000 (page 0x10001000) at offset 0 using physical access
[DEBUG] kernel::elf: Successfully loaded segment with 1 pages using Linux-style physical memory access
[DEBUG] kernel::memory::stack: Allocating guarded stack at 0x555555550000, size 68 KiB
[TRACE] kernel::memory::stack: map_stack_pages: start_page=0x555555551000, end_page=0x555555560000
[TRACE] kernel::memory::stack: map_stack_pages: About to iterate over page range
[TRACE] kernel::memory::stack: map_stack_pages: Got page from iterator, about to log address
[TRACE] kernel::memory::stack: map_stack_pages: Mapping page 0x555555551000
[TRACE] kernel::memory::stack: map_stack_pages: About to call allocate_frame()
[TRACE] kernel::memory::frame_allocator: Frame allocator: Attempting to allocate frame #271
[TRACE] kernel::memory::frame_allocator: Frame allocator: Allocated frame 0x5bc000 (allocation #271)
[TRACE] kernel::memory::stack: map_stack_pages: allocate_frame() returned successfully
[TRACE] kernel::memory::stack: map_stack_pages: Allocated frame 0x5bc000 for page 0x555555551000
[TRACE] kernel::memory::stack: map_stack_pages: About to call mapper.map_to...
[TRACE] kernel::memory::frame_allocator: Frame allocator: Attempting to allocate frame #272
[TRACE] kernel::memory::frame_allocator: Frame allocator: Allocated frame 0x5bd000 (allocation #272)
[TRACE] kernel::memory::frame_allocator: Frame allocator: Attempting to allocate frame #273
[TRACE] kernel::memory::frame_allocator: Frame allocator: Allocated frame 0x5be000 (allocation #273)
[TRACE] kernel::memory::frame_allocator: Frame allocator: Attempting to allocate frame #274
[TRACE] kernel::memory::frame_allocator: Frame allocator: Allocated frame 0x5bf000 (allocation #274)
[TRACE] kernel::memory::stack: map_stack_pages: Successfully mapped page 0x555555551000
[TRACE] kernel::memory::stack: map_stack_pages: Got page from iterator, about to log address
[TRACE] kernel::memory::stack: map_stack_pages: Mapping page 0x555555552000
[TRACE] kernel::memory::stack: map_stack_pages: About to call allocate_frame()
[TRACE] kernel::memory::frame_allocator: Frame allocator: Attempting to allocate frame #275
[TRACE] kernel::memory::frame_allocator: Frame allocator: Allocated frame 0x5c0000 (allocation #275)
[TRACE] kernel::memory::stack: map_stack_pages: allocate_frame() returned successfully
[TRACE] kernel::memory::stack: map_stack_pages: Allocated frame 0x5c0000 for page 0x555555552000
[TRACE] kernel::memory::stack: map_stack_pages: About to call mapper.map_to...
[TRACE] kernel::memory::stack: map_stack_pages: Successfully mapped page 0x555555552000
[TRACE] kernel::memory::stack: map_stack_pages: Got page from iterator, about to log address
[TRACE] kernel::memory::stack: map_stack_pages: Mapping page 0x555555553000
[TRACE] kernel::memory::stack: map_stack_pages: About to call allocate_frame()
[TRACE] kernel::memory::frame_allocator: Frame allocator: Attempting to allocate frame #276
[TRACE] kernel::memory::frame_allocator: Frame allocator: Allocated frame 0x5c1000 (allocation #276)
[TRACE] kernel::memory::stack: map_stack_pages: allocate_frame() returned successfully
[TRACE] kernel::memory::stack: map_stack_pages: Allocated frame 0x5c1000 for page 0x555555553000
[TRACE] kernel::memory::stack: map_stack_pages: About to call mapper.map_to...
[TRACE] kernel::memory::stack: map_stack_pages: Successfully mapped page 0x555555553000
[TRACE] kernel::memory::stack: map_stack_pages: Got page from iterator, about to log address
[TRACE] kernel::memory::stack: map_stack_pages: Mapping page 0x555555554000
[TRACE] kernel::memory::stack: map_stack_pages: About to call allocate_frame()
[TRACE] kernel::memory::frame_allocator: Frame allocator: Attempting to allocate frame #277
[TRACE] kernel::memory::frame_allocator: Frame allocator: Allocated frame 0x5c2000 (allocation #277)
[TRACE] kernel::memory::stack: map_stack_pages: allocate_frame() returned successfully
[TRACE] kernel::memory::stack: map_stack_pages: Allocated frame 0x5c2000 for page 0x555555554000
[TRACE] kernel::memory::stack: map_stack_pages: About to call mapper.map_to...
[TRACE] kernel::memory::stack: map_stack_pages: Successfully mapped page 0x555555554000
[TRACE] kernel::memory::stack: map_stack_pages: Got page from iterator, about to log address
[TRACE] kernel::memory::stack: map_stack_pages: Mapping page 0x555555555000
[TRACE] kernel::memory::stack: map_stack_pages: About to call allocate_frame()
[TRACE] kernel::memory::frame_allocator: Frame allocator: Attempting to allocate frame #278
[TRACE] kernel::memory::frame_allocator: Frame allocator: Allocated frame 0x5c3000 (allocation #278)
[TRACE] kernel::memory::stack: map_stack_pages: allocate_frame() returned successfully
[TRACE] kernel::memory::stack: map_stack_pages: Allocated frame 0x5c3000 for page 0x555555555000
[TRACE] kernel::memory::stack: map_stack_pages: About to call mapper.map_to...
[TRACE] kernel::memory::stack: map_stack_pages: Successfully mapped page 0x555555555000
[TRACE] kernel::memory::stack: map_stack_pages: Got page from iterator, about to log address
[TRACE] kernel::memory::stack: map_stack_pages: Mapping page 0x555555556000
[TRACE] kernel::memory::stack: map_stack_pages: About to call allocate_frame()
[TRACE] kernel::memory::frame_allocator: Frame allocator: Attempting to allocate frame #279
[TRACE] kernel::memory::frame_allocator: Frame allocator: Allocated frame 0x5c4000 (allocation #279)
[TRACE] kernel::memory::stack: map_stack_pages: allocate_frame() returned successfully
[TRACE] kernel::memory::stack: map_stack_pages: Allocated frame 0x5c4000 for page 0x555555556000
[TRACE] kernel::memory::stack: map_stack_pages: About to call mapper.map_to...
[TRACE] kernel::memory::stack: map_stack_pages: Successfully mapped page 0x555555556000
[TRACE] kernel::memory::stack: map_stack_pages: Got page from iterator, about to log address
[TRACE] kernel::memory::stack: map_stack_pages: Mapping page 0x555555557000
[TRACE] kernel::memory::stack: map_stack_pages: About to call allocate_frame()
[TRACE] kernel::memory::frame_allocator: Frame allocator: Attempting to allocate frame #280
[TRACE] kernel::memory::frame_allocator: Frame allocator: Allocated frame 0x5c5000 (allocation #280)
[TRACE] kernel::memory::stack: map_stack_pages: allocate_frame() returned successfully
[TRACE] kernel::memory::stack: map_stack_pages: Allocated frame 0x5c5000 for page 0x555555557000
[TRACE] kernel::memory::stack: map_stack_pages: About to call mapper.map_to...
[TRACE] kernel::memory::stack: map_stack_pages: Successfully mapped page 0x555555557000
[TRACE] kernel::memory::stack: map_stack_pages: Got page from iterator, about to log address
[TRACE] kernel::memory::stack: map_stack_pages: Mapping page 0x555555558000
[TRACE] kernel::memory::stack: map_stack_pages: About to call allocate_frame()
[TRACE] kernel::memory::frame_allocator: Frame allocator: Attempting to allocate frame #281
[TRACE] kernel::memory::frame_allocator: Frame allocator: Allocated frame 0x5c6000 (allocation #281)
[TRACE] kernel::memory::stack: map_stack_pages: allocate_frame() returned successfully
[TRACE] kernel::memory::stack: map_stack_pages: Allocated frame 0x5c6000 for page 0x555555558000
[TRACE] kernel::memory::stack: map_stack_pages: About to call mapper.map_to...
[TRACE] kernel::memory::stack: map_stack_pages: Successfully mapped page 0x555555558000
[TRACE] kernel::memory::stack: map_stack_pages: Got page from iterator, about to log address
[TRACE] kernel::memory::stack: map_stack_pages: Mapping page 0x555555559000
[TRACE] kernel::memory::stack: map_stack_pages: About to call allocate_frame()
[TRACE] kernel::memory::frame_allocator: Frame allocator: Attempting to allocate frame #282
[TRACE] kernel::memory::frame_allocator: Frame allocator: Allocated frame 0x5c7000 (allocation #282)
[TRACE] kernel::memory::stack: map_stack_pages: allocate_frame() returned successfully
[TRACE] kernel::memory::stack: map_stack_pages: Allocated frame 0x5c7000 for page 0x555555559000
[TRACE] kernel::memory::stack: map_stack_pages: About to call mapper.map_to...
[TRACE] kernel::memory::stack: map_stack_pages: Successfully mapped page 0x555555559000
[TRACE] kernel::memory::stack: map_stack_pages: Got page from iterator, about to log address
[TRACE] kernel::memory::stack: map_stack_pages: Mapping page 0x55555555a000
[TRACE] kernel::memory::stack: map_stack_pages: About to call allocate_frame()
[TRACE] kernel::memory::frame_allocator: Frame allocator: Attempting to allocate frame #283
[TRACE] kernel::memory::frame_allocator: Frame allocator: Allocated frame 0x5c8000 (allocation #283)
[TRACE] kernel::memory::stack: map_stack_pages: allocate_frame() returned successfully
[TRACE] kernel::memory::stack: map_stack_pages: Allocated frame 0x5c8000 for page 0x55555555a000
[TRACE] kernel::memory::stack: map_stack_pages: About to call mapper.map_to...
[TRACE] kernel::memory::stack: map_stack_pages: Successfully mapped page 0x55555555a000
[TRACE] kernel::memory::stack: map_stack_pages: Got page from iterator, about to log address
[TRACE] kernel::memory::stack: map_stack_pages: Mapping page 0x55555555b000
[TRACE] kernel::memory::stack: map_stack_pages: About to call allocate_frame()
[TRACE] kernel::memory::frame_allocator: Frame allocator: Attempting to allocate frame #284
[TRACE] kernel::memory::frame_allocator: Frame allocator: Allocated frame 0x5c9000 (allocation #284)
[TRACE] kernel::memory::stack: map_stack_pages: allocate_frame() returned successfully
[TRACE] kernel::memory::stack: map_stack_pages: Allocated frame 0x5c9000 for page 0x55555555b000
[TRACE] kernel::memory::stack: map_stack_pages: About to call mapper.map_to...
[TRACE] kernel::memory::stack: map_stack_pages: Successfully mapped page 0x55555555b000
[TRACE] kernel::memory::stack: map_stack_pages: Got page from iterator, about to log address
[TRACE] kernel::memory::stack: map_stack_pages: Mapping page 0x55555555c000
[TRACE] kernel::memory::stack: map_stack_pages: About to call allocate_frame()
[TRACE] kernel::memory::frame_allocator: Frame allocator: Attempting to allocate frame #285
[TRACE] kernel::memory::frame_allocator: Frame allocator: Allocated frame 0x5ca000 (allocation #285)
[TRACE] kernel::memory::stack: map_stack_pages: allocate_frame() returned successfully
[TRACE] kernel::memory::stack: map_stack_pages: Allocated frame 0x5ca000 for page 0x55555555c000
[TRACE] kernel::memory::stack: map_stack_pages: About to call mapper.map_to...
[TRACE] kernel::memory::stack: map_stack_pages: Successfully mapped page 0x55555555c000
[TRACE] kernel::memory::stack: map_stack_pages: Got page from iterator, about to log address
[TRACE] kernel::memory::stack: map_stack_pages: Mapping page 0x55555555d000
[TRACE] kernel::memory::stack: map_stack_pages: About to call allocate_frame()
[TRACE] kernel::memory::frame_allocator: Frame allocator: Attempting to allocate frame #286
[TRACE] kernel::memory::frame_allocator: Frame allocator: Allocated frame 0x5cb000 (allocation #286)
[TRACE] kernel::memory::stack: map_stack_pages: allocate_frame() returned successfully
[TRACE] kernel::memory::stack: map_stack_pages: Allocated frame 0x5cb000 for page 0x55555555d000
[TRACE] kernel::memory::stack: map_stack_pages: About to call mapper.map_to...
[TRACE] kernel::memory::stack: map_stack_pages: Successfully mapped page 0x55555555d000
[TRACE] kernel::memory::stack: map_stack_pages: Got page from iterator, about to log address
[TRACE] kernel::memory::stack: map_stack_pages: Mapping page 0x55555555e000
[TRACE] kernel::memory::stack: map_stack_pages: About to call allocate_frame()
[TRACE] kernel::memory::frame_allocator: Frame allocator: Attempting to allocate frame #287
[TRACE] kernel::memory::frame_allocator: Frame allocator: Allocated frame 0x5cc000 (allocation #287)
[TRACE] kernel::memory::stack: map_stack_pages: allocate_frame() returned successfully
[TRACE] kernel::memory::stack: map_stack_pages: Allocated frame 0x5cc000 for page 0x55555555e000
[TRACE] kernel::memory::stack: map_stack_pages: About to call mapper.map_to...
[TRACE] kernel::memory::stack: map_stack_pages: Successfully mapped page 0x55555555e000
[TRACE] kernel::memory::stack: map_stack_pages: Got page from iterator, about to log address
[TRACE] kernel::memory::stack: map_stack_pages: Mapping page 0x55555555f000
[TRACE] kernel::memory::stack: map_stack_pages: About to call allocate_frame()
[TRACE] kernel::memory::frame_allocator: Frame allocator: Attempting to allocate frame #288
[TRACE] kernel::memory::frame_allocator: Frame allocator: Allocated frame 0x5cd000 (allocation #288)
[TRACE] kernel::memory::stack: map_stack_pages: allocate_frame() returned successfully
[TRACE] kernel::memory::stack: map_stack_pages: Allocated frame 0x5cd000 for page 0x55555555f000
[TRACE] kernel::memory::stack: map_stack_pages: About to call mapper.map_to...
[TRACE] kernel::memory::stack: map_stack_pages: Successfully mapped page 0x55555555f000
[TRACE] kernel::memory::stack: map_stack_pages: Got page from iterator, about to log address
[TRACE] kernel::memory::stack: map_stack_pages: Mapping page 0x555555560000
[TRACE] kernel::memory::stack: map_stack_pages: About to call allocate_frame()
[TRACE] kernel::memory::frame_allocator: Frame allocator: Attempting to allocate frame #289
[TRACE] kernel::memory::frame_allocator: Frame allocator: Allocated frame 0x5ce000 (allocation #289)
[TRACE] kernel::memory::stack: map_stack_pages: allocate_frame() returned successfully
[TRACE] kernel::memory::stack: map_stack_pages: Allocated frame 0x5ce000 for page 0x555555560000
[TRACE] kernel::memory::stack: map_stack_pages: About to call mapper.map_to...
[TRACE] kernel::memory::stack: map_stack_pages: Successfully mapped page 0x555555560000
[DEBUG] kernel::memory::stack: Guard page at 0x555555550000 (unmapped)
[DEBUG] kernel::memory::stack: Stack region: 0x555555551000 - 0x555555561000 (64 KiB)
[DEBUG] kernel::process::manager: Mapping user stack pages into process page table...
[DEBUG] kernel::memory::process_memory: map_user_stack_to_process: mapping stack range 0x555555551000 - 0x555555561000
[DEBUG] kernel::memory::process_memory: translate_page(0x555555551000) -> None (FAILED)
[DEBUG] kernel::memory::process_memory:   -> L4 entry 170 is UNUSED
[TRACE] kernel::memory::process_memory: ProcessPageTable::map_page called for page 0x555555551000
[TRACE] kernel::memory::process_memory: About to call mapper.map_to...
[TRACE] kernel::memory::frame_allocator: Frame allocator: Attempting to allocate frame #290
[TRACE] kernel::memory::frame_allocator: Frame allocator: Allocated frame 0x5cf000 (allocation #290)
[TRACE] kernel::memory::frame_allocator: Frame allocator: Attempting to allocate frame #291
[TRACE] kernel::memory::frame_allocator: Frame allocator: Allocated frame 0x5d0000 (allocation #291)
[TRACE] kernel::memory::frame_allocator: Frame allocator: Attempting to allocate frame #292
[TRACE] kernel::memory::frame_allocator: Frame allocator: Allocated frame 0x5d1000 (allocation #292)
[TRACE] kernel::memory::process_memory: mapper.map_to succeeded, TLB flush deferred
[TRACE] kernel::memory::process_memory: Mapped user stack page 0x555555551000 -> frame 0x5bc000
[DEBUG] kernel::memory::process_memory: translate_page(0x555555552000) -> None (FAILED)
[DEBUG] kernel::memory::process_memory:   -> L4 entry 170 exists: addr=0x5cf000, flags=PageTableFlags(PRESENT | WRITABLE | USER_ACCESSIBLE)
[DEBUG] kernel::memory::process_memory:     -> L3 entry 341 exists: addr=0x5d0000, flags=PageTableFlags(PRESENT | WRITABLE | USER_ACCESSIBLE)
[TRACE] kernel::memory::process_memory: ProcessPageTable::map_page called for page 0x555555552000
[TRACE] kernel::memory::process_memory: About to call mapper.map_to...
[TRACE] kernel::memory::process_memory: mapper.map_to succeeded, TLB flush deferred
[TRACE] kernel::memory::process_memory: Mapped user stack page 0x555555552000 -> frame 0x5c0000
[DEBUG] kernel::memory::process_memory: translate_page(0x555555553000) -> None (FAILED)
[DEBUG] kernel::memory::process_memory:   -> L4 entry 170 exists: addr=0x5cf000, flags=PageTableFlags(PRESENT | WRITABLE | USER_ACCESSIBLE)
[DEBUG] kernel::memory::process_memory:     -> L3 entry 341 exists: addr=0x5d0000, flags=PageTableFlags(PRESENT | WRITABLE | USER_ACCESSIBLE)
[TRACE] kernel::memory::process_memory: ProcessPageTable::map_page called for page 0x555555553000
[TRACE] kernel::memory::process_memory: About to call mapper.map_to...
[TRACE] kernel::memory::process_memory: mapper.map_to succeeded, TLB flush deferred
[TRACE] kernel::memory::process_memory: Mapped user stack page 0x555555553000 -> frame 0x5c1000
[DEBUG] kernel::memory::process_memory: translate_page(0x555555554000) -> None (FAILED)
[DEBUG] kernel::memory::process_memory:   -> L4 entry 170 exists: addr=0x5cf000, flags=PageTableFlags(PRESENT | WRITABLE | USER_ACCESSIBLE)
[DEBUG] kernel::memory::process_memory:     -> L3 entry 341 exists: addr=0x5d0000, flags=PageTableFlags(PRESENT | WRITABLE | USER_ACCESSIBLE)
[TRACE] kernel::memory::process_memory: ProcessPageTable::map_page called for page 0x555555554000
[TRACE] kernel::memory::process_memory: About to call mapper.map_to...
[TRACE] kernel::memory::process_memory: mapper.map_to succeeded, TLB flush deferred
[TRACE] kernel::memory::process_memory: Mapped user stack page 0x555555554000 -> frame 0x5c2000
[DEBUG] kernel::memory::process_memory: translate_page(0x555555555000) -> None (FAILED)
[DEBUG] kernel::memory::process_memory:   -> L4 entry 170 exists: addr=0x5cf000, flags=PageTableFlags(PRESENT | WRITABLE | USER_ACCESSIBLE)
[DEBUG] kernel::memory::process_memory:     -> L3 entry 341 exists: addr=0x5d0000, flags=PageTableFlags(PRESENT | WRITABLE | USER_ACCESSIBLE)
[TRACE] kernel::memory::process_memory: ProcessPageTable::map_page called for page 0x555555555000
[TRACE] kernel::memory::process_memory: About to call mapper.map_to...
[TRACE] kernel::memory::process_memory: mapper.map_to succeeded, TLB flush deferred
[TRACE] kernel::memory::process_memory: Mapped user stack page 0x555555555000 -> frame 0x5c3000
[DEBUG] kernel::memory::process_memory: translate_page(0x555555556000) -> None (FAILED)
[DEBUG] kernel::memory::process_memory:   -> L4 entry 170 exists: addr=0x5cf000, flags=PageTableFlags(PRESENT | WRITABLE | USER_ACCESSIBLE)
[DEBUG] kernel::memory::process_memory:     -> L3 entry 341 exists: addr=0x5d0000, flags=PageTableFlags(PRESENT | WRITABLE | USER_ACCESSIBLE)
[TRACE] kernel::memory::process_memory: ProcessPageTable::map_page called for page 0x555555556000
[TRACE] kernel::memory::process_memory: About to call mapper.map_to...
[TRACE] kernel::memory::process_memory: mapper.map_to succeeded, TLB flush deferred
[TRACE] kernel::memory::process_memory: Mapped user stack page 0x555555556000 -> frame 0x5c4000
[DEBUG] kernel::memory::process_memory: translate_page(0x555555557000) -> None (FAILED)
[DEBUG] kernel::memory::process_memory:   -> L4 entry 170 exists: addr=0x5cf000, flags=PageTableFlags(PRESENT | WRITABLE | USER_ACCESSIBLE)
[DEBUG] kernel::memory::process_memory:     -> L3 entry 341 exists: addr=0x5d0000, flags=PageTableFlags(PRESENT | WRITABLE | USER_ACCESSIBLE)
[TRACE] kernel::memory::process_memory: ProcessPageTable::map_page called for page 0x555555557000
[TRACE] kernel::memory::process_memory: About to call mapper.map_to...
[TRACE] kernel::memory::process_memory: mapper.map_to succeeded, TLB flush deferred
[TRACE] kernel::memory::process_memory: Mapped user stack page 0x555555557000 -> frame 0x5c5000
[DEBUG] kernel::memory::process_memory: translate_page(0x555555558000) -> None (FAILED)
[DEBUG] kernel::memory::process_memory:   -> L4 entry 170 exists: addr=0x5cf000, flags=PageTableFlags(PRESENT | WRITABLE | USER_ACCESSIBLE)
[DEBUG] kernel::memory::process_memory:     -> L3 entry 341 exists: addr=0x5d0000, flags=PageTableFlags(PRESENT | WRITABLE | USER_ACCESSIBLE)
[TRACE] kernel::memory::process_memory: ProcessPageTable::map_page called for page 0x555555558000
[TRACE] kernel::memory::process_memory: About to call mapper.map_to...
[TRACE] kernel::memory::process_memory: mapper.map_to succeeded, TLB flush deferred
[TRACE] kernel::memory::process_memory: Mapped user stack page 0x555555558000 -> frame 0x5c6000
[DEBUG] kernel::memory::process_memory: translate_page(0x555555559000) -> None (FAILED)
[DEBUG] kernel::memory::process_memory:   -> L4 entry 170 exists: addr=0x5cf000, flags=PageTableFlags(PRESENT | WRITABLE | USER_ACCESSIBLE)
[DEBUG] kernel::memory::process_memory:     -> L3 entry 341 exists: addr=0x5d0000, flags=PageTableFlags(PRESENT | WRITABLE | USER_ACCESSIBLE)
[TRACE] kernel::memory::process_memory: ProcessPageTable::map_page called for page 0x555555559000
[TRACE] kernel::memory::process_memory: About to call mapper.map_to...
[TRACE] kernel::memory::process_memory: mapper.map_to succeeded, TLB flush deferred
[TRACE] kernel::memory::process_memory: Mapped user stack page 0x555555559000 -> frame 0x5c7000
[DEBUG] kernel::memory::process_memory: translate_page(0x55555555a000) -> None (FAILED)
[DEBUG] kernel::memory::process_memory:   -> L4 entry 170 exists: addr=0x5cf000, flags=PageTableFlags(PRESENT | WRITABLE | USER_ACCESSIBLE)
[DEBUG] kernel::memory::process_memory:     -> L3 entry 341 exists: addr=0x5d0000, flags=PageTableFlags(PRESENT | WRITABLE | USER_ACCESSIBLE)
[TRACE] kernel::memory::process_memory: ProcessPageTable::map_page called for page 0x55555555a000
[TRACE] kernel::memory::process_memory: About to call mapper.map_to...
[TRACE] kernel::memory::process_memory: mapper.map_to succeeded, TLB flush deferred
[TRACE] kernel::memory::process_memory: Mapped user stack page 0x55555555a000 -> frame 0x5c8000
[DEBUG] kernel::memory::process_memory: translate_page(0x55555555b000) -> None (FAILED)
[DEBUG] kernel::memory::process_memory:   -> L4 entry 170 exists: addr=0x5cf000, flags=PageTableFlags(PRESENT | WRITABLE | USER_ACCESSIBLE)
[DEBUG] kernel::memory::process_memory:     -> L3 entry 341 exists: addr=0x5d0000, flags=PageTableFlags(PRESENT | WRITABLE | USER_ACCESSIBLE)
[TRACE] kernel::memory::process_memory: ProcessPageTable::map_page called for page 0x55555555b000
[TRACE] kernel::memory::process_memory: About to call mapper.map_to...
[TRACE] kernel::memory::process_memory: mapper.map_to succeeded, TLB flush deferred
[TRACE] kernel::memory::process_memory: Mapped user stack page 0x55555555b000 -> frame 0x5c9000
[DEBUG] kernel::memory::process_memory: translate_page(0x55555555c000) -> None (FAILED)
[DEBUG] kernel::memory::process_memory:   -> L4 entry 170 exists: addr=0x5cf000, flags=PageTableFlags(PRESENT | WRITABLE | USER_ACCESSIBLE)
[DEBUG] kernel::memory::process_memory:     -> L3 entry 341 exists: addr=0x5d0000, flags=PageTableFlags(PRESENT | WRITABLE | USER_ACCESSIBLE)
[TRACE] kernel::memory::process_memory: ProcessPageTable::map_page called for page 0x55555555c000
[TRACE] kernel::memory::process_memory: About to call mapper.map_to...
[TRACE] kernel::memory::process_memory: mapper.map_to succeeded, TLB flush deferred
[TRACE] kernel::memory::process_memory: Mapped user stack page 0x55555555c000 -> frame 0x5ca000
[DEBUG] kernel::memory::process_memory: translate_page(0x55555555d000) -> None (FAILED)
[DEBUG] kernel::memory::process_memory:   -> L4 entry 170 exists: addr=0x5cf000, flags=PageTableFlags(PRESENT | WRITABLE | USER_ACCESSIBLE)
[DEBUG] kernel::memory::process_memory:     -> L3 entry 341 exists: addr=0x5d0000, flags=PageTableFlags(PRESENT | WRITABLE | USER_ACCESSIBLE)
[TRACE] kernel::memory::process_memory: ProcessPageTable::map_page called for page 0x55555555d000
[TRACE] kernel::memory::process_memory: About to call mapper.map_to...
[TRACE] kernel::memory::process_memory: mapper.map_to succeeded, TLB flush deferred
[TRACE] kernel::memory::process_memory: Mapped user stack page 0x55555555d000 -> frame 0x5cb000
[DEBUG] kernel::memory::process_memory: translate_page(0x55555555e000) -> None (FAILED)
[DEBUG] kernel::memory::process_memory:   -> L4 entry 170 exists: addr=0x5cf000, flags=PageTableFlags(PRESENT | WRITABLE | USER_ACCESSIBLE)
[DEBUG] kernel::memory::process_memory:     -> L3 entry 341 exists: addr=0x5d0000, flags=PageTableFlags(PRESENT | WRITABLE | USER_ACCESSIBLE)
[TRACE] kernel::memory::process_memory: ProcessPageTable::map_page called for page 0x55555555e000
[TRACE] kernel::memory::process_memory: About to call mapper.map_to...
[TRACE] kernel::memory::process_memory: mapper.map_to succeeded, TLB flush deferred
[TRACE] kernel::memory::process_memory: Mapped user stack page 0x55555555e000 -> frame 0x5cc000
[DEBUG] kernel::memory::process_memory: translate_page(0x55555555f000) -> None (FAILED)
[DEBUG] kernel::memory::process_memory:   -> L4 entry 170 exists: addr=0x5cf000, flags=PageTableFlags(PRESENT | WRITABLE | USER_ACCESSIBLE)
[DEBUG] kernel::memory::process_memory:     -> L3 entry 341 exists: addr=0x5d0000, flags=PageTableFlags(PRESENT | WRITABLE | USER_ACCESSIBLE)
[TRACE] kernel::memory::process_memory: ProcessPageTable::map_page called for page 0x55555555f000
[TRACE] kernel::memory::process_memory: About to call mapper.map_to...
[TRACE] kernel::memory::process_memory: mapper.map_to succeeded, TLB flush deferred
[TRACE] kernel::memory::process_memory: Mapped user stack page 0x55555555f000 -> frame 0x5cd000
[DEBUG] kernel::memory::process_memory: translate_page(0x555555560000) -> None (FAILED)
[DEBUG] kernel::memory::process_memory:   -> L4 entry 170 exists: addr=0x5cf000, flags=PageTableFlags(PRESENT | WRITABLE | USER_ACCESSIBLE)
[DEBUG] kernel::memory::process_memory:     -> L3 entry 341 exists: addr=0x5d0000, flags=PageTableFlags(PRESENT | WRITABLE | USER_ACCESSIBLE)
[TRACE] kernel::memory::process_memory: ProcessPageTable::map_page called for page 0x555555560000
[TRACE] kernel::memory::process_memory: About to call mapper.map_to...
[TRACE] kernel::memory::process_memory: mapper.map_to succeeded, TLB flush deferred
[TRACE] kernel::memory::process_memory: Mapped user stack page 0x555555560000 -> frame 0x5ce000
[DEBUG] kernel::memory::process_memory: ✓ Successfully mapped 16 user stack pages to process page table
[DEBUG] kernel::process::manager: ✓ User stack mapped in process page table
[DEBUG] kernel::tls: Registered thread 1 with TLS block 0x11000
[TRACE] kernel::memory::frame_allocator: Frame allocator: Attempting to allocate frame #293
[TRACE] kernel::memory::frame_allocator: Frame allocator: Allocated frame 0x5d2000 (allocation #293)
[TRACE] kernel::memory::kernel_page_table: Mapped kernel page VirtAddr(0xffffc90000001000) -> PhysAddr(0x5d2000) with flags PageTableFlags(PRESENT | WRITABLE)
[TRACE] kernel::memory::frame_allocator: Frame allocator: Attempting to allocate frame #294
[TRACE] kernel::memory::frame_allocator: Frame allocator: Allocated frame 0x5d3000 (allocation #294)
[TRACE] kernel::memory::kernel_page_table: Mapped kernel page VirtAddr(0xffffc90000002000) -> PhysAddr(0x5d3000) with flags PageTableFlags(PRESENT | WRITABLE)
[DEBUG] kernel::memory::kernel_stack: Allocated kernel stack 0 at 0xffffc90000001000-0xffffc90000003000 (guard at 0xffffc90000000000)
[DEBUG] kernel::process::manager: ✓ Allocated kernel stack at 0xffffc90000003000 (globally visible)
[ INFO] kernel::process::manager: Created process hello_time_test (PID 1)
[DEBUG] kernel::process: PROCESS_MANAGER lock released
[DEBUG] kernel::process: Acquiring PROCESS_MANAGER lock
[DEBUG] kernel::process: PROCESS_MANAGER lock acquired
[ INFO] kernel::task::scheduler: Added thread 1 'hello_time_test' to scheduler (user: true, ready_queue: [1])
[ INFO] kernel::process::creation: create_user_process: Added user thread 1 directly to scheduler
[DEBUG] kernel::process: PROCESS_MANAGER lock released
[ INFO] kernel::process::creation: create_user_process: Successfully created user process 1 without spawn mechanism
[ INFO] kernel::test_exec: ✓ CONCURRENT: Created hello_time process with PID 1
[ INFO] kernel::test_exec: ✓ CONCURRENT: Process should execute hello_time.elf and print time
[ INFO] kernel::test_exec: ✓ CONCURRENT: Created hello_time test process
[ INFO] kernel::test_exec:     -> Process will execute hello_time.elf when scheduler runs
[ INFO] kernel::test_exec:     -> Look for 'Hello from userspace! Current time: XXXXX' output
[ INFO] kernel: Direct execution test completed.
[ INFO] kernel: === USERSPACE TEST: Fork syscall from Ring 3 ===
[ INFO] kernel::test_exec: === Testing multiple instances of same program ===
[ INFO] kernel::test_exec: This test runs TWO hello_time processes to isolate the issue
[ INFO] kernel::test_exec: Creating second hello_time process...
[ INFO] kernel::process::creation: create_user_process: Creating user process 'hello_time_2' with new model
[DEBUG] kernel::process: Acquiring PROCESS_MANAGER lock
[DEBUG] kernel::process: PROCESS_MANAGER lock acquired
[DEBUG] kernel::memory::process_memory: ProcessPageTable::new() - Current RSP: 0x18000010e70
[ERROR] kernel::memory::process_memory: WARNING: Low stack detected! RSP=0x18000010e70
[ERROR] kernel::memory::process_memory: This might cause a stack overflow!
[DEBUG] kernel::memory::process_memory: ProcessPageTable::new() - About to allocate L4 frame
[TRACE] kernel::memory::frame_allocator: Frame allocator: Attempting to allocate frame #295
[TRACE] kernel::memory::frame_allocator: Frame allocator: Allocated frame 0x5d4000 (allocation #295)
[DEBUG] kernel::memory::process_memory: Successfully allocated frame: 0x5d4000
[DEBUG] kernel::memory::process_memory: Allocated L4 frame: 0x5d4000
[DEBUG] kernel::memory::process_memory: Physical memory offset: 0x28000000000
[DEBUG] kernel::memory::process_memory: New L4 table virtual address: 0x280005d4000
[DEBUG] kernel::memory::process_memory: About to create mutable reference to page table at 0x280005d4000
[DEBUG] kernel::memory::process_memory: Testing read access at 0x280005d4000
[DEBUG] kernel::memory::process_memory: Read test successful
[DEBUG] kernel::memory::process_memory: Page table pointer: 0x280005d4000
[DEBUG] kernel::memory::process_memory: About to zero the new page table
[DEBUG] kernel::memory::process_memory: Successfully zeroed new page table
[DEBUG] kernel::memory::process_memory: ProcessPageTable::new() - Current CR3: 0x101000
[DEBUG] kernel::memory::process_memory: ProcessPageTable::new() - Using kernel CR3: 0x101000 for copying
[DEBUG] kernel::memory::process_memory: Kernel L4 table virtual address: 0x28000101000
[DEBUG] kernel::memory::process_memory: Using global kernel PDPT frame: PhysFrame[4KiB](0x0)
[DEBUG] kernel::memory::process_memory: Set up global kernel page table entries 256-511
[DEBUG] kernel::memory::process_memory: Copied low-memory kernel PML4 entry 2
[DEBUG] kernel::memory::process_memory: Copied low-memory kernel PML4 entry 3
[DEBUG] kernel::memory::process_memory: Copied low-memory kernel PML4 entry 4
[DEBUG] kernel::memory::process_memory: Copied low-memory kernel PML4 entry 5
[DEBUG] kernel::memory::process_memory: Copied low-memory kernel PML4 entry 6
[DEBUG] kernel::memory::process_memory: Copied low-memory kernel PML4 entry 7
[DEBUG] kernel::memory::process_memory: Copied low-memory kernel PML4 entry 136
[DEBUG] kernel::memory::process_memory: Process page table created with global kernel mappings (7 low entries + 256 high entries)
[DEBUG] kernel::memory::process_memory: Creating OffsetPageTable with L4 frame 0x5d4000 and phys_offset 0x28000000000
[DEBUG] kernel::memory::process_memory: ProcessPageTable created with global kernel page tables
[ INFO] kernel::elf: Loading ELF into process page table: entry=0x10000000, 3 program headers
[DEBUG] kernel::elf: Loading segment into page table: vaddr=0x10000000, filesz=0x2fe, memsz=0x2fe, flags=0x5
[DEBUG] kernel::elf: Linux-style ELF loading: staying in kernel space, using physical memory access
[DEBUG] kernel::elf: Processing page 0x10000000
[TRACE] kernel::memory::frame_allocator: Frame allocator: Attempting to allocate frame #296
[TRACE] kernel::memory::frame_allocator: Frame allocator: Allocated frame 0x5d5000 (allocation #296)
[DEBUG] kernel::elf: Allocated frame 0x5d5000 for page 0x10000000
[DEBUG] kernel::elf: Mapping page 0x10000000 to frame 0x5d5000 with flags PageTableFlags(PRESENT | USER_ACCESSIBLE)
[DEBUG] kernel::elf: About to call page_table.map_page...
[TRACE] kernel::memory::process_memory: ProcessPageTable::map_page called for page 0x10000000
[TRACE] kernel::memory::process_memory: About to call mapper.map_to...
[TRACE] kernel::memory::frame_allocator: Frame allocator: Attempting to allocate frame #297
[TRACE] kernel::memory::frame_allocator: Frame allocator: Allocated frame 0x5d6000 (allocation #297)
[TRACE] kernel::memory::frame_allocator: Frame allocator: Attempting to allocate frame #298
[TRACE] kernel::memory::frame_allocator: Frame allocator: Allocated frame 0x5d7000 (allocation #298)
[TRACE] kernel::memory::frame_allocator: Frame allocator: Attempting to allocate frame #299
[TRACE] kernel::memory::frame_allocator: Frame allocator: Allocated frame 0x5d8000 (allocation #299)
[TRACE] kernel::memory::process_memory: mapper.map_to succeeded, TLB flush deferred
[DEBUG] kernel::elf: Successfully mapped page 0x10000000
[DEBUG] kernel::elf: After page_table.map_page
[DEBUG] kernel::elf: Copied 766 bytes to frame 0x5d5000 (page 0x10000000) at offset 0 using physical access
[DEBUG] kernel::elf: Successfully loaded segment with 1 pages using Linux-style physical memory access
[DEBUG] kernel::elf: Loading segment into page table: vaddr=0x10001000, filesz=0x13c, memsz=0x13c, flags=0x4
[DEBUG] kernel::elf: Linux-style ELF loading: staying in kernel space, using physical memory access
[DEBUG] kernel::elf: Processing page 0x10001000
[TRACE] kernel::memory::frame_allocator: Frame allocator: Attempting to allocate frame #300
[TRACE] kernel::memory::frame_allocator: Frame allocator: Allocated frame 0x5d9000 (allocation #300)
[DEBUG] kernel::elf: Allocated frame 0x5d9000 for page 0x10001000
[DEBUG] kernel::elf: Mapping page 0x10001000 to frame 0x5d9000 with flags PageTableFlags(PRESENT | USER_ACCESSIBLE | NO_EXECUTE)
[DEBUG] kernel::elf: About to call page_table.map_page...
[TRACE] kernel::memory::process_memory: ProcessPageTable::map_page called for page 0x10001000
[TRACE] kernel::memory::process_memory: About to call mapper.map_to...
[TRACE] kernel::memory::process_memory: mapper.map_to succeeded, TLB flush deferred
[DEBUG] kernel::elf: Successfully mapped page 0x10001000
[DEBUG] kernel::elf: After page_table.map_page
[DEBUG] kernel::elf: Copied 316 bytes to frame 0x5d9000 (page 0x10001000) at offset 0 using physical access
[DEBUG] kernel::elf: Successfully loaded segment with 1 pages using Linux-style physical memory access
[DEBUG] kernel::memory::stack: Allocating guarded stack at 0x555555561000, size 68 KiB
[TRACE] kernel::memory::stack: map_stack_pages: start_page=0x555555562000, end_page=0x555555571000
[TRACE] kernel::memory::stack: map_stack_pages: About to iterate over page range
[TRACE] kernel::memory::stack: map_stack_pages: Got page from iterator, about to log address
[TRACE] kernel::memory::stack: map_stack_pages: Mapping page 0x555555562000
[TRACE] kernel::memory::stack: map_stack_pages: About to call allocate_frame()
[TRACE] kernel::memory::frame_allocator: Frame allocator: Attempting to allocate frame #301
[TRACE] kernel::memory::frame_allocator: Frame allocator: Allocated frame 0x5da000 (allocation #301)
[TRACE] kernel::memory::stack: map_stack_pages: allocate_frame() returned successfully
[TRACE] kernel::memory::stack: map_stack_pages: Allocated frame 0x5da000 for page 0x555555562000
[TRACE] kernel::memory::stack: map_stack_pages: About to call mapper.map_to...
[TRACE] kernel::memory::stack: map_stack_pages: Successfully mapped page 0x555555562000
[TRACE] kernel::memory::stack: map_stack_pages: Got page from iterator, about to log address
[TRACE] kernel::memory::stack: map_stack_pages: Mapping page 0x555555563000
[TRACE] kernel::memory::stack: map_stack_pages: About to call allocate_frame()
[TRACE] kernel::memory::frame_allocator: Frame allocator: Attempting to allocate frame #302
[TRACE] kernel::memory::frame_allocator: Frame allocator: Allocated frame 0x5db000 (allocation #302)
[TRACE] kernel::memory::stack: map_stack_pages: allocate_frame() returned successfully
[TRACE] kernel::memory::stack: map_stack_pages: Allocated frame 0x5db000 for page 0x555555563000
[TRACE] kernel::memory::stack: map_stack_pages: About to call mapper.map_to...
[TRACE] kernel::memory::stack: map_stack_pages: Successfully mapped page 0x555555563000
[TRACE] kernel::memory::stack: map_stack_pages: Got page from iterator, about to log address
[TRACE] kernel::memory::stack: map_stack_pages: Mapping page 0x555555564000
[TRACE] kernel::memory::stack: map_stack_pages: About to call allocate_frame()
[TRACE] kernel::memory::frame_allocator: Frame allocator: Attempting to allocate frame #303
[TRACE] kernel::memory::frame_allocator: Frame allocator: Allocated frame 0x5dc000 (allocation #303)
[TRACE] kernel::memory::stack: map_stack_pages: allocate_frame() returned successfully
[TRACE] kernel::memory::stack: map_stack_pages: Allocated frame 0x5dc000 for page 0x555555564000
[TRACE] kernel::memory::stack: map_stack_pages: About to call mapper.map_to...
[TRACE] kernel::memory::stack: map_stack_pages: Successfully mapped page 0x555555564000
[TRACE] kernel::memory::stack: map_stack_pages: Got page from iterator, about to log address
[TRACE] kernel::memory::stack: map_stack_pages: Mapping page 0x555555565000
[TRACE] kernel::memory::stack: map_stack_pages: About to call allocate_frame()
[TRACE] kernel::memory::frame_allocator: Frame allocator: Attempting to allocate frame #304
[TRACE] kernel::memory::frame_allocator: Frame allocator: Allocated frame 0x5dd000 (allocation #304)
[TRACE] kernel::memory::stack: map_stack_pages: allocate_frame() returned successfully
[TRACE] kernel::memory::stack: map_stack_pages: Allocated frame 0x5dd000 for page 0x555555565000
[TRACE] kernel::memory::stack: map_stack_pages: About to call mapper.map_to...
[TRACE] kernel::memory::stack: map_stack_pages: Successfully mapped page 0x555555565000
[TRACE] kernel::memory::stack: map_stack_pages: Got page from iterator, about to log address
[TRACE] kernel::memory::stack: map_stack_pages: Mapping page 0x555555566000
[TRACE] kernel::memory::stack: map_stack_pages: About to call allocate_frame()
[TRACE] kernel::memory::frame_allocator: Frame allocator: Attempting to allocate frame #305
[TRACE] kernel::memory::frame_allocator: Frame allocator: Allocated frame 0x5de000 (allocation #305)
[TRACE] kernel::memory::stack: map_stack_pages: allocate_frame() returned successfully
[TRACE] kernel::memory::stack: map_stack_pages: Allocated frame 0x5de000 for page 0x555555566000
[TRACE] kernel::memory::stack: map_stack_pages: About to call mapper.map_to...
[TRACE] kernel::memory::stack: map_stack_pages: Successfully mapped page 0x555555566000
[TRACE] kernel::memory::stack: map_stack_pages: Got page from iterator, about to log address
[TRACE] kernel::memory::stack: map_stack_pages: Mapping page 0x555555567000
[TRACE] kernel::memory::stack: map_stack_pages: About to call allocate_frame()
[TRACE] kernel::memory::frame_allocator: Frame allocator: Attempting to allocate frame #306
[TRACE] kernel::memory::frame_allocator: Frame allocator: Allocated frame 0x5df000 (allocation #306)
[TRACE] kernel::memory::stack: map_stack_pages: allocate_frame() returned successfully
[TRACE] kernel::memory::stack: map_stack_pages: Allocated frame 0x5df000 for page 0x555555567000
[TRACE] kernel::memory::stack: map_stack_pages: About to call mapper.map_to...
[TRACE] kernel::memory::stack: map_stack_pages: Successfully mapped page 0x555555567000
[TRACE] kernel::memory::stack: map_stack_pages: Got page from iterator, about to log address
[TRACE] kernel::memory::stack: map_stack_pages: Mapping page 0x555555568000
[TRACE] kernel::memory::stack: map_stack_pages: About to call allocate_frame()
[TRACE] kernel::memory::frame_allocator: Frame allocator: Attempting to allocate frame #307
[TRACE] kernel::memory::frame_allocator: Frame allocator: Allocated frame 0x5e0000 (allocation #307)
[TRACE] kernel::memory::stack: map_stack_pages: allocate_frame() returned successfully
[TRACE] kernel::memory::stack: map_stack_pages: Allocated frame 0x5e0000 for page 0x555555568000
[TRACE] kernel::memory::stack: map_stack_pages: About to call mapper.map_to...
[TRACE] kernel::memory::stack: map_stack_pages: Successfully mapped page 0x555555568000
[TRACE] kernel::memory::stack: map_stack_pages: Got page from iterator, about to log address
[TRACE] kernel::memory::stack: map_stack_pages: Mapping page 0x555555569000
[TRACE] kernel::memory::stack: map_stack_pages: About to call allocate_frame()
[TRACE] kernel::memory::frame_allocator: Frame allocator: Attempting to allocate frame #308
[TRACE] kernel::memory::frame_allocator: Frame allocator: Allocated frame 0x5e1000 (allocation #308)
[TRACE] kernel::memory::stack: map_stack_pages: allocate_frame() returned successfully
[TRACE] kernel::memory::stack: map_stack_pages: Allocated frame 0x5e1000 for page 0x555555569000
[TRACE] kernel::memory::stack: map_stack_pages: About to call mapper.map_to...
[TRACE] kernel::memory::stack: map_stack_pages: Successfully mapped page 0x555555569000
[TRACE] kernel::memory::stack: map_stack_pages: Got page from iterator, about to log address
[TRACE] kernel::memory::stack: map_stack_pages: Mapping page 0x55555556a000
[TRACE] kernel::memory::stack: map_stack_pages: About to call allocate_frame()
[TRACE] kernel::memory::frame_allocator: Frame allocator: Attempting to allocate frame #309
[TRACE] kernel::memory::frame_allocator: Frame allocator: Allocated frame 0x5e2000 (allocation #309)
[TRACE] kernel::memory::stack: map_stack_pages: allocate_frame() returned successfully
[TRACE] kernel::memory::stack: map_stack_pages: Allocated frame 0x5e2000 for page 0x55555556a000
[TRACE] kernel::memory::stack: map_stack_pages: About to call mapper.map_to...
[TRACE] kernel::memory::stack: map_stack_pages: Successfully mapped page 0x55555556a000
[TRACE] kernel::memory::stack: map_stack_pages: Got page from iterator, about to log address
[TRACE] kernel::memory::stack: map_stack_pages: Mapping page 0x55555556b000
[TRACE] kernel::memory::stack: map_stack_pages: About to call allocate_frame()
[TRACE] kernel::memory::frame_allocator: Frame allocator: Attempting to allocate frame #310
[TRACE] kernel::memory::frame_allocator: Frame allocator: Allocated frame 0x5e3000 (allocation #310)
[TRACE] kernel::memory::stack: map_stack_pages: allocate_frame() returned successfully
[TRACE] kernel::memory::stack: map_stack_pages: Allocated frame 0x5e3000 for page 0x55555556b000
[TRACE] kernel::memory::stack: map_stack_pages: About to call mapper.map_to...
[TRACE] kernel::memory::stack: map_stack_pages: Successfully mapped page 0x55555556b000
[TRACE] kernel::memory::stack: map_stack_pages: Got page from iterator, about to log address
[TRACE] kernel::memory::stack: map_stack_pages: Mapping page 0x55555556c000
[TRACE] kernel::memory::stack: map_stack_pages: About to call allocate_frame()
[TRACE] kernel::memory::frame_allocator: Frame allocator: Attempting to allocate frame #311
[TRACE] kernel::memory::frame_allocator: Frame allocator: Allocated frame 0x5e4000 (allocation #311)
[TRACE] kernel::memory::stack: map_stack_pages: allocate_frame() returned successfully
[TRACE] kernel::memory::stack: map_stack_pages: Allocated frame 0x5e4000 for page 0x55555556c000
[TRACE] kernel::memory::stack: map_stack_pages: About to call mapper.map_to...
[TRACE] kernel::memory::stack: map_stack_pages: Successfully mapped page 0x55555556c000
[TRACE] kernel::memory::stack: map_stack_pages: Got page from iterator, about to log address
[TRACE] kernel::memory::stack: map_stack_pages: Mapping page 0x55555556d000
[TRACE] kernel::memory::stack: map_stack_pages: About to call allocate_frame()
[TRACE] kernel::memory::frame_allocator: Frame allocator: Attempting to allocate frame #312
[TRACE] kernel::memory::frame_allocator: Frame allocator: Allocated frame 0x5e5000 (allocation #312)
[TRACE] kernel::memory::stack: map_stack_pages: allocate_frame() returned successfully
[TRACE] kernel::memory::stack: map_stack_pages: Allocated frame 0x5e5000 for page 0x55555556d000
[TRACE] kernel::memory::stack: map_stack_pages: About to call mapper.map_to...
[TRACE] kernel::memory::stack: map_stack_pages: Successfully mapped page 0x55555556d000
[TRACE] kernel::memory::stack: map_stack_pages: Got page from iterator, about to log address
[TRACE] kernel::memory::stack: map_stack_pages: Mapping page 0x55555556e000
[TRACE] kernel::memory::stack: map_stack_pages: About to call allocate_frame()
[TRACE] kernel::memory::frame_allocator: Frame allocator: Attempting to allocate frame #313
[TRACE] kernel::memory::frame_allocator: Frame allocator: Allocated frame 0x5e6000 (allocation #313)
[TRACE] kernel::memory::stack: map_stack_pages: allocate_frame() returned successfully
[TRACE] kernel::memory::stack: map_stack_pages: Allocated frame 0x5e6000 for page 0x55555556e000
[TRACE] kernel::memory::stack: map_stack_pages: About to call mapper.map_to...
[TRACE] kernel::memory::stack: map_stack_pages: Successfully mapped page 0x55555556e000
[TRACE] kernel::memory::stack: map_stack_pages: Got page from iterator, about to log address
[TRACE] kernel::memory::stack: map_stack_pages: Mapping page 0x55555556f000
[TRACE] kernel::memory::stack: map_stack_pages: About to call allocate_frame()
[TRACE] kernel::memory::frame_allocator: Frame allocator: Attempting to allocate frame #314
[TRACE] kernel::memory::frame_allocator: Frame allocator: Allocated frame 0x5e7000 (allocation #314)
[TRACE] kernel::memory::stack: map_stack_pages: allocate_frame() returned successfully
[TRACE] kernel::memory::stack: map_stack_pages: Allocated frame 0x5e7000 for page 0x55555556f000
[TRACE] kernel::memory::stack: map_stack_pages: About to call mapper.map_to...
[TRACE] kernel::memory::stack: map_stack_pages: Successfully mapped page 0x55555556f000
[TRACE] kernel::memory::stack: map_stack_pages: Got page from iterator, about to log address
[TRACE] kernel::memory::stack: map_stack_pages: Mapping page 0x555555570000
[TRACE] kernel::memory::stack: map_stack_pages: About to call allocate_frame()
[TRACE] kernel::memory::frame_allocator: Frame allocator: Attempting to allocate frame #315
[TRACE] kernel::memory::frame_allocator: Frame allocator: Allocated frame 0x5e8000 (allocation #315)
[TRACE] kernel::memory::stack: map_stack_pages: allocate_frame() returned successfully
[TRACE] kernel::memory::stack: map_stack_pages: Allocated frame 0x5e8000 for page 0x555555570000
[TRACE] kernel::memory::stack: map_stack_pages: About to call mapper.map_to...
[TRACE] kernel::memory::stack: map_stack_pages: Successfully mapped page 0x555555570000
[TRACE] kernel::memory::stack: map_stack_pages: Got page from iterator, about to log address
[TRACE] kernel::memory::stack: map_stack_pages: Mapping page 0x555555571000
[TRACE] kernel::memory::stack: map_stack_pages: About to call allocate_frame()
[TRACE] kernel::memory::frame_allocator: Frame allocator: Attempting to allocate frame #316
[TRACE] kernel::memory::frame_allocator: Frame allocator: Allocated frame 0x5e9000 (allocation #316)
[TRACE] kernel::memory::stack: map_stack_pages: allocate_frame() returned successfully
[TRACE] kernel::memory::stack: map_stack_pages: Allocated frame 0x5e9000 for page 0x555555571000
[TRACE] kernel::memory::stack: map_stack_pages: About to call mapper.map_to...
[TRACE] kernel::memory::stack: map_stack_pages: Successfully mapped page 0x555555571000
[DEBUG] kernel::memory::stack: Guard page at 0x555555561000 (unmapped)
[DEBUG] kernel::memory::stack: Stack region: 0x555555562000 - 0x555555572000 (64 KiB)
[DEBUG] kernel::process::manager: Mapping user stack pages into process page table...
[DEBUG] kernel::memory::process_memory: map_user_stack_to_process: mapping stack range 0x555555562000 - 0x555555572000
[DEBUG] kernel::memory::process_memory: translate_page(0x555555562000) -> None (FAILED)
[DEBUG] kernel::memory::process_memory:   -> L4 entry 170 is UNUSED
[TRACE] kernel::memory::process_memory: ProcessPageTable::map_page called for page 0x555555562000
[TRACE] kernel::memory::process_memory: About to call mapper.map_to...
[TRACE] kernel::memory::frame_allocator: Frame allocator: Attempting to allocate frame #317
[TRACE] kernel::memory::frame_allocator: Frame allocator: Allocated frame 0x5ea000 (allocation #317)
[TRACE] kernel::memory::frame_allocator: Frame allocator: Attempting to allocate frame #318
[TRACE] kernel::memory::frame_allocator: Frame allocator: Allocated frame 0x5eb000 (allocation #318)
[TRACE] kernel::memory::frame_allocator: Frame allocator: Attempting to allocate frame #319
[TRACE] kernel::memory::frame_allocator: Frame allocator: Allocated frame 0x5ec000 (allocation #319)
[TRACE] kernel::memory::process_memory: mapper.map_to succeeded, TLB flush deferred
[TRACE] kernel::memory::process_memory: Mapped user stack page 0x555555562000 -> frame 0x5da000
[DEBUG] kernel::memory::process_memory: translate_page(0x555555563000) -> None (FAILED)
[DEBUG] kernel::memory::process_memory:   -> L4 entry 170 exists: addr=0x5ea000, flags=PageTableFlags(PRESENT | WRITABLE | USER_ACCESSIBLE)
[DEBUG] kernel::memory::process_memory:     -> L3 entry 341 exists: addr=0x5eb000, flags=PageTableFlags(PRESENT | WRITABLE | USER_ACCESSIBLE)
[TRACE] kernel::memory::process_memory: ProcessPageTable::map_page called for page 0x555555563000
[TRACE] kernel::memory::process_memory: About to call mapper.map_to...
[TRACE] kernel::memory::process_memory: mapper.map_to succeeded, TLB flush deferred
[TRACE] kernel::memory::process_memory: Mapped user stack page 0x555555563000 -> frame 0x5db000
[DEBUG] kernel::memory::process_memory: translate_page(0x555555564000) -> None (FAILED)
[DEBUG] kernel::memory::process_memory:   -> L4 entry 170 exists: addr=0x5ea000, flags=PageTableFlags(PRESENT | WRITABLE | USER_ACCESSIBLE)
[DEBUG] kernel::memory::process_memory:     -> L3 entry 341 exists: addr=0x5eb000, flags=PageTableFlags(PRESENT | WRITABLE | USER_ACCESSIBLE)
[TRACE] kernel::memory::process_memory: ProcessPageTable::map_page called for page 0x555555564000
[TRACE] kernel::memory::process_memory: About to call mapper.map_to...
[TRACE] kernel::memory::process_memory: mapper.map_to succeeded, TLB flush deferred
[TRACE] kernel::memory::process_memory: Mapped user stack page 0x555555564000 -> frame 0x5dc000
[DEBUG] kernel::memory::process_memory: translate_page(0x555555565000) -> None (FAILED)
[DEBUG] kernel::memory::process_memory:   -> L4 entry 170 exists: addr=0x5ea000, flags=PageTableFlags(PRESENT | WRITABLE | USER_ACCESSIBLE)
[DEBUG] kernel::memory::process_memory:     -> L3 entry 341 exists: addr=0x5eb000, flags=PageTableFlags(PRESENT | WRITABLE | USER_ACCESSIBLE)
[TRACE] kernel::memory::process_memory: ProcessPageTable::map_page called for page 0x555555565000
[TRACE] kernel::memory::process_memory: About to call mapper.map_to...
[TRACE] kernel::memory::process_memory: mapper.map_to succeeded, TLB flush deferred
[TRACE] kernel::memory::process_memory: Mapped user stack page 0x555555565000 -> frame 0x5dd000
[DEBUG] kernel::memory::process_memory: translate_page(0x555555566000) -> None (FAILED)
[DEBUG] kernel::memory::process_memory:   -> L4 entry 170 exists: addr=0x5ea000, flags=PageTableFlags(PRESENT | WRITABLE | USER_ACCESSIBLE)
[DEBUG] kernel::memory::process_memory:     -> L3 entry 341 exists: addr=0x5eb000, flags=PageTableFlags(PRESENT | WRITABLE | USER_ACCESSIBLE)
[TRACE] kernel::memory::process_memory: ProcessPageTable::map_page called for page 0x555555566000
[TRACE] kernel::memory::process_memory: About to call mapper.map_to...
[TRACE] kernel::memory::process_memory: mapper.map_to succeeded, TLB flush deferred
[TRACE] kernel::memory::process_memory: Mapped user stack page 0x555555566000 -> frame 0x5de000
[DEBUG] kernel::memory::process_memory: translate_page(0x555555567000) -> None (FAILED)
[DEBUG] kernel::memory::process_memory:   -> L4 entry 170 exists: addr=0x5ea000, flags=PageTableFlags(PRESENT | WRITABLE | USER_ACCESSIBLE)
[DEBUG] kernel::memory::process_memory:     -> L3 entry 341 exists: addr=0x5eb000, flags=PageTableFlags(PRESENT | WRITABLE | USER_ACCESSIBLE)
[TRACE] kernel::memory::process_memory: ProcessPageTable::map_page called for page 0x555555567000
[TRACE] kernel::memory::process_memory: About to call mapper.map_to...
[TRACE] kernel::memory::process_memory: mapper.map_to succeeded, TLB flush deferred
[TRACE] kernel::memory::process_memory: Mapped user stack page 0x555555567000 -> frame 0x5df000
[DEBUG] kernel::memory::process_memory: translate_page(0x555555568000) -> None (FAILED)
[DEBUG] kernel::memory::process_memory:   -> L4 entry 170 exists: addr=0x5ea000, flags=PageTableFlags(PRESENT | WRITABLE | USER_ACCESSIBLE)
[DEBUG] kernel::memory::process_memory:     -> L3 entry 341 exists: addr=0x5eb000, flags=PageTableFlags(PRESENT | WRITABLE | USER_ACCESSIBLE)
[TRACE] kernel::memory::process_memory: ProcessPageTable::map_page called for page 0x555555568000
[TRACE] kernel::memory::process_memory: About to call mapper.map_to...
[TRACE] kernel::memory::process_memory: mapper.map_to succeeded, TLB flush deferred
[TRACE] kernel::memory::process_memory: Mapped user stack page 0x555555568000 -> frame 0x5e0000
[DEBUG] kernel::memory::process_memory: translate_page(0x555555569000) -> None (FAILED)
[DEBUG] kernel::memory::process_memory:   -> L4 entry 170 exists: addr=0x5ea000, flags=PageTableFlags(PRESENT | WRITABLE | USER_ACCESSIBLE)
[DEBUG] kernel::memory::process_memory:     -> L3 entry 341 exists: addr=0x5eb000, flags=PageTableFlags(PRESENT | WRITABLE | USER_ACCESSIBLE)
[TRACE] kernel::memory::process_memory: ProcessPageTable::map_page called for page 0x555555569000
[TRACE] kernel::memory::process_memory: About to call mapper.map_to...
[TRACE] kernel::memory::process_memory: mapper.map_to succeeded, TLB flush deferred
[TRACE] kernel::memory::process_memory: Mapped user stack page 0x555555569000 -> frame 0x5e1000
[DEBUG] kernel::memory::process_memory: translate_page(0x55555556a000) -> None (FAILED)
[DEBUG] kernel::memory::process_memory:   -> L4 entry 170 exists: addr=0x5ea000, flags=PageTableFlags(PRESENT | WRITABLE | USER_ACCESSIBLE)
[DEBUG] kernel::memory::process_memory:     -> L3 entry 341 exists: addr=0x5eb000, flags=PageTableFlags(PRESENT | WRITABLE | USER_ACCESSIBLE)
[TRACE] kernel::memory::process_memory: ProcessPageTable::map_page called for page 0x55555556a000
[TRACE] kernel::memory::process_memory: About to call mapper.map_to...
[TRACE] kernel::memory::process_memory: mapper.map_to succeeded, TLB flush deferred
[TRACE] kernel::memory::process_memory: Mapped user stack page 0x55555556a000 -> frame 0x5e2000
[DEBUG] kernel::memory::process_memory: translate_page(0x55555556b000) -> None (FAILED)
[DEBUG] kernel::memory::process_memory:   -> L4 entry 170 exists: addr=0x5ea000, flags=PageTableFlags(PRESENT | WRITABLE | USER_ACCESSIBLE)
[DEBUG] kernel::memory::process_memory:     -> L3 entry 341 exists: addr=0x5eb000, flags=PageTableFlags(PRESENT | WRITABLE | USER_ACCESSIBLE)
[TRACE] kernel::memory::process_memory: ProcessPageTable::map_page called for page 0x55555556b000
[TRACE] kernel::memory::process_memory: About to call mapper.map_to...
[TRACE] kernel::memory::process_memory: mapper.map_to succeeded, TLB flush deferred
[TRACE] kernel::memory::process_memory: Mapped user stack page 0x55555556b000 -> frame 0x5e3000
[DEBUG] kernel::memory::process_memory: translate_page(0x55555556c000) -> None (FAILED)
[DEBUG] kernel::memory::process_memory:   -> L4 entry 170 exists: addr=0x5ea000, flags=PageTableFlags(PRESENT | WRITABLE | USER_ACCESSIBLE)
[DEBUG] kernel::memory::process_memory:     -> L3 entry 341 exists: addr=0x5eb000, flags=PageTableFlags(PRESENT | WRITABLE | USER_ACCESSIBLE)
[TRACE] kernel::memory::process_memory: ProcessPageTable::map_page called for page 0x55555556c000
[TRACE] kernel::memory::process_memory: About to call mapper.map_to...
[TRACE] kernel::memory::process_memory: mapper.map_to succeeded, TLB flush deferred
[TRACE] kernel::memory::process_memory: Mapped user stack page 0x55555556c000 -> frame 0x5e4000
[DEBUG] kernel::memory::process_memory: translate_page(0x55555556d000) -> None (FAILED)
[DEBUG] kernel::memory::process_memory:   -> L4 entry 170 exists: addr=0x5ea000, flags=PageTableFlags(PRESENT | WRITABLE | USER_ACCESSIBLE)
[DEBUG] kernel::memory::process_memory:     -> L3 entry 341 exists: addr=0x5eb000, flags=PageTableFlags(PRESENT | WRITABLE | USER_ACCESSIBLE)
[TRACE] kernel::memory::process_memory: ProcessPageTable::map_page called for page 0x55555556d000
[TRACE] kernel::memory::process_memory: About to call mapper.map_to...
[TRACE] kernel::memory::process_memory: mapper.map_to succeeded, TLB flush deferred
[TRACE] kernel::memory::process_memory: Mapped user stack page 0x55555556d000 -> frame 0x5e5000
[DEBUG] kernel::memory::process_memory: translate_page(0x55555556e000) -> None (FAILED)
[DEBUG] kernel::memory::process_memory:   -> L4 entry 170 exists: addr=0x5ea000, flags=PageTableFlags(PRESENT | WRITABLE | USER_ACCESSIBLE)
[DEBUG] kernel::memory::process_memory:     -> L3 entry 341 exists: addr=0x5eb000, flags=PageTableFlags(PRESENT | WRITABLE | USER_ACCESSIBLE)
[TRACE] kernel::memory::process_memory: ProcessPageTable::map_page called for page 0x55555556e000
[TRACE] kernel::memory::process_memory: About to call mapper.map_to...
[TRACE] kernel::memory::process_memory: mapper.map_to succeeded, TLB flush deferred
[TRACE] kernel::memory::process_memory: Mapped user stack page 0x55555556e000 -> frame 0x5e6000
[DEBUG] kernel::memory::process_memory: translate_page(0x55555556f000) -> None (FAILED)
[DEBUG] kernel::memory::process_memory:   -> L4 entry 170 exists: addr=0x5ea000, flags=PageTableFlags(PRESENT | WRITABLE | USER_ACCESSIBLE)
[DEBUG] kernel::memory::process_memory:     -> L3 entry 341 exists: addr=0x5eb000, flags=PageTableFlags(PRESENT | WRITABLE | USER_ACCESSIBLE)
[TRACE] kernel::memory::process_memory: ProcessPageTable::map_page called for page 0x55555556f000
[TRACE] kernel::memory::process_memory: About to call mapper.map_to...
[TRACE] kernel::memory::process_memory: mapper.map_to succeeded, TLB flush deferred
[TRACE] kernel::memory::process_memory: Mapped user stack page 0x55555556f000 -> frame 0x5e7000
[DEBUG] kernel::memory::process_memory: translate_page(0x555555570000) -> None (FAILED)
[DEBUG] kernel::memory::process_memory:   -> L4 entry 170 exists: addr=0x5ea000, flags=PageTableFlags(PRESENT | WRITABLE | USER_ACCESSIBLE)
[DEBUG] kernel::memory::process_memory:     -> L3 entry 341 exists: addr=0x5eb000, flags=PageTableFlags(PRESENT | WRITABLE | USER_ACCESSIBLE)
[TRACE] kernel::memory::process_memory: ProcessPageTable::map_page called for page 0x555555570000
[TRACE] kernel::memory::process_memory: About to call mapper.map_to...
[TRACE] kernel::memory::process_memory: mapper.map_to succeeded, TLB flush deferred
[TRACE] kernel::memory::process_memory: Mapped user stack page 0x555555570000 -> frame 0x5e8000
[DEBUG] kernel::memory::process_memory: translate_page(0x555555571000) -> None (FAILED)
[DEBUG] kernel::memory::process_memory:   -> L4 entry 170 exists: addr=0x5ea000, flags=PageTableFlags(PRESENT | WRITABLE | USER_ACCESSIBLE)
[DEBUG] kernel::memory::process_memory:     -> L3 entry 341 exists: addr=0x5eb000, flags=PageTableFlags(PRESENT | WRITABLE | USER_ACCESSIBLE)
[TRACE] kernel::memory::process_memory: ProcessPageTable::map_page called for page 0x555555571000
[TRACE] kernel::memory::process_memory: About to call mapper.map_to...
[TRACE] kernel::memory::process_memory: mapper.map_to succeeded, TLB flush deferred
[TRACE] kernel::memory::process_memory: Mapped user stack page 0x555555571000 -> frame 0x5e9000
[DEBUG] kernel::memory::process_memory: ✓ Successfully mapped 16 user stack pages to process page table
[DEBUG] kernel::process::manager: ✓ User stack mapped in process page table
[DEBUG] kernel::tls: Registered thread 2 with TLS block 0x12000
[TRACE] kernel::memory::frame_allocator: Frame allocator: Attempting to allocate frame #320
[TRACE] kernel::memory::frame_allocator: Frame allocator: Allocated frame 0x5ed000 (allocation #320)
[TRACE] kernel::memory::kernel_page_table: Mapped kernel page VirtAddr(0xffffc90000004000) -> PhysAddr(0x5ed000) with flags PageTableFlags(PRESENT | WRITABLE)
[TRACE] kernel::memory::frame_allocator: Frame allocator: Attempting to allocate frame #321
[TRACE] kernel::memory::frame_allocator: Frame allocator: Allocated frame 0x5ee000 (allocation #321)
[TRACE] kernel::memory::kernel_page_table: Mapped kernel page VirtAddr(0xffffc90000005000) -> PhysAddr(0x5ee000) with flags PageTableFlags(PRESENT | WRITABLE)
[DEBUG] kernel::memory::kernel_stack: Allocated kernel stack 1 at 0xffffc90000004000-0xffffc90000006000 (guard at 0xffffc90000003000)
[DEBUG] kernel::process::manager: ✓ Allocated kernel stack at 0xffffc90000006000 (globally visible)
[ INFO] kernel::process::manager: Created process hello_time_2 (PID 2)
[DEBUG] kernel::process: PROCESS_MANAGER lock released
[DEBUG] kernel::process: Acquiring PROCESS_MANAGER lock
[DEBUG] kernel::process: PROCESS_MANAGER lock acquired
[ INFO] kernel::task::scheduler: Added thread 2 'hello_time_2' to scheduler (user: true, ready_queue: [1, 2])
[ INFO] kernel::process::creation: create_user_process: Added user thread 2 directly to scheduler
[DEBUG] kernel::process: PROCESS_MANAGER lock released
[ INFO] kernel::process::creation: create_user_process: Successfully created user process 2 without spawn mechanism
[ INFO] kernel::test_exec: ✓ Created second hello_time process with PID 2
[ INFO] kernel::test_exec: ✓ Now we have TWO hello_time processes
[ INFO] kernel::test_exec:    - If this works: issue is with different ELF layouts
[ INFO] kernel::test_exec:    - If this fails: issue is with multiple processes in general
[ INFO] kernel: Userspace fork test completed.
[DEBUG] kernel::interrupts::context_switch: check_need_resched_and_switch: Reschedule needed (count: 0)
[ INFO] kernel::task::scheduler: schedule() called #0: current=Some(0), ready_queue=[1, 2], idle_thread=0
[ INFO] kernel::task::scheduler: Next thread from queue: 1, ready_queue after pop: [2]
[ INFO] kernel::task::scheduler: Switching from thread 0 to thread 1
[ INFO] kernel::interrupts::context_switch: scheduler::schedule() returned: Some((0, 1)) (count: 0)
[DEBUG] kernel::interrupts::context_switch: Context switch on interrupt return: 0 -> 1
[DEBUG] kernel::interrupts::context_switch: Context switch: from_userspace=false, CS=0x8
[DEBUG] kernel::tls: Set GS base to 0x11000
[ INFO] kernel::interrupts::context_switch: restore_userspace_thread_context: Restoring thread 1
[DEBUG] kernel::interrupts::context_switch: Got process manager lock
[DEBUG] kernel::interrupts::context_switch: Found process 1 for thread 1
[DEBUG] kernel::interrupts::context_switch: Thread privilege: User
[ INFO] kernel::task::process_context: Restored userspace context for thread 1: RIP=0x10000000, RSP=0x555555561000, CS=0x33, SS=0x2b, RFLAGS=0x202
[TRACE] kernel::interrupts::context_switch: Restored context for process 1 (thread 1)
[ INFO] kernel::interrupts::context_switch: Scheduled page table switch for process 1 on return: frame=0x5b6000
[ INFO] kernel::interrupts::context_switch: Setting kernel stack for thread 1 to 0xffffc90000003000
[DEBUG] kernel::gdt: TSS RSP0 updated: 0x100000dc750 -> 0xffffc90000003000
[ INFO] kernel::interrupts::context_switch: get_next_page_table: Returning page table frame 0x5b6000 for switch
[DEBUG] kernel::interrupts::context_switch: check_need_resched_and_switch: Reschedule needed (count: 1)
[ INFO] kernel::task::scheduler: schedule() called #1: current=Some(1), ready_queue=[2], idle_thread=0
[ INFO] kernel::task::scheduler: Put thread 1 back in ready queue, state was Running
[ INFO] kernel::task::scheduler: Next thread from queue: 2, ready_queue after pop: [1]
[ INFO] kernel::task::scheduler: Switching from thread 1 to thread 2
[ INFO] kernel::interrupts::context_switch: scheduler::schedule() returned: Some((1, 2)) (count: 1)
[DEBUG] kernel::interrupts::context_switch: Context switch on interrupt return: 1 -> 2
[DEBUG] kernel::interrupts::context_switch: Context switch: from_userspace=true, CS=0x33
[TRACE] kernel::task::process_context: Saved userspace context for thread 1: RIP=0x10000000, RSP=0x555555561000, RAX=0x0
[TRACE] kernel::interrupts::context_switch: Saved context for process 1 (thread 1)
[DEBUG] kernel::tls: Set GS base to 0x12000
[ INFO] kernel::interrupts::context_switch: restore_userspace_thread_context: Restoring thread 2
[DEBUG] kernel::interrupts::context_switch: Got process manager lock
[DEBUG] kernel::interrupts::context_switch: Found process 2 for thread 2
[DEBUG] kernel::interrupts::context_switch: Thread privilege: User
[ INFO] kernel::task::process_context: Restored userspace context for thread 2: RIP=0x10000000, RSP=0x555555572000, CS=0x33, SS=0x2b, RFLAGS=0x202
[TRACE] kernel::interrupts::context_switch: Restored context for process 2 (thread 2)
[ INFO] kernel::interrupts::context_switch: Scheduled page table switch for process 2 on return: frame=0x5d4000
[ INFO] kernel::interrupts::context_switch: Setting kernel stack for thread 2 to 0xffffc90000006000
[DEBUG] kernel::gdt: TSS RSP0 updated: 0xffffc90000003000 -> 0xffffc90000006000
[ INFO] kernel::interrupts::context_switch: get_next_page_table: Returning page table frame 0x5d4000 for switch
[DEBUG] kernel::interrupts::context_switch: check_need_resched_and_switch: Reschedule needed (count: 2)
[ INFO] kernel::task::scheduler: schedule() called #2: current=Some(2), ready_queue=[1], idle_thread=0
[ INFO] kernel::task::scheduler: Put thread 2 back in ready queue, state was Running
[ INFO] kernel::task::scheduler: Next thread from queue: 1, ready_queue after pop: [2]
[ INFO] kernel::task::scheduler: Switching from thread 2 to thread 1
[ INFO] kernel::interrupts::context_switch: scheduler::schedule() returned: Some((2, 1)) (count: 2)
[DEBUG] kernel::interrupts::context_switch: Context switch on interrupt return: 2 -> 1
[DEBUG] kernel::interrupts::context_switch: Context switch: from_userspace=true, CS=0x33
[TRACE] kernel::task::process_context: Saved userspace context for thread 2: RIP=0x10000000, RSP=0x555555572000, RAX=0x0
[TRACE] kernel::interrupts::context_switch: Saved context for process 2 (thread 2)
[DEBUG] kernel::tls: Set GS base to 0x11000
[ INFO] kernel::interrupts::context_switch: restore_userspace_thread_context: Restoring thread 1
[DEBUG] kernel::interrupts::context_switch: Got process manager lock
[DEBUG] kernel::interrupts::context_switch: Found process 1 for thread 1
[DEBUG] kernel::interrupts::context_switch: Thread privilege: User
[ INFO] kernel::task::process_context: Restored userspace context for thread 1: RIP=0x10000000, RSP=0x555555561000, CS=0x33, SS=0x2b, RFLAGS=0x10202
[TRACE] kernel::interrupts::context_switch: Restored context for process 1 (thread 1)
[ INFO] kernel::interrupts::context_switch: Scheduled page table switch for process 1 on return: frame=0x5b6000
[ INFO] kernel::interrupts::context_switch: Setting kernel stack for thread 1 to 0xffffc90000003000
[DEBUG] kernel::gdt: TSS RSP0 updated: 0xffffc90000006000 -> 0xffffc90000003000
[ INFO] kernel::interrupts::context_switch: get_next_page_table: Returning page table frame 0x5b6000 for switch
[DEBUG] kernel::interrupts::context_switch: check_need_resched_and_switch: Reschedule needed (count: 3)
[ INFO] kernel::task::scheduler: schedule() called #3: current=Some(1), ready_queue=[2], idle_thread=0
[ INFO] kernel::task::scheduler: Put thread 1 back in ready queue, state was Running
[ INFO] kernel::task::scheduler: Next thread from queue: 2, ready_queue after pop: [1]
[ INFO] kernel::task::scheduler: Switching from thread 1 to thread 2
[ INFO] kernel::interrupts::context_switch: scheduler::schedule() returned: Some((1, 2)) (count: 3)
[DEBUG] kernel::interrupts::context_switch: Context switch on interrupt return: 1 -> 2
[DEBUG] kernel::interrupts::context_switch: Context switch: from_userspace=true, CS=0x33
[TRACE] kernel::task::process_context: Saved userspace context for thread 1: RIP=0x10000000, RSP=0x555555561000, RAX=0x0
[TRACE] kernel::interrupts::context_switch: Saved context for process 1 (thread 1)
[DEBUG] kernel::tls: Set GS base to 0x12000
[ INFO] kernel::interrupts::context_switch: restore_userspace_thread_context: Restoring thread 2
[DEBUG] kernel::interrupts::context_switch: Got process manager lock
[DEBUG] kernel::interrupts::context_switch: Found process 2 for thread 2
[DEBUG] kernel::interrupts::context_switch: Thread privilege: User
[ INFO] kernel::task::process_context: Restored userspace context for thread 2: RIP=0x10000000, RSP=0x555555572000, CS=0x33, SS=0x2b, RFLAGS=0x10202
[TRACE] kernel::interrupts::context_switch: Restored context for process 2 (thread 2)
[ INFO] kernel::interrupts::context_switch: Scheduled page table switch for process 2 on return: frame=0x5d4000
[ INFO] kernel::interrupts::context_switch: Setting kernel stack for thread 2 to 0xffffc90000006000
[DEBUG] kernel::gdt: TSS RSP0 updated: 0xffffc90000003000 -> 0xffffc90000006000
[ INFO] kernel::interrupts::context_switch: get_next_page_table: Returning page table frame 0x5d4000 for switch
[DEBUG] kernel::interrupts::context_switch: check_need_resched_and_switch: Reschedule needed (count: 4)
[ INFO] kernel::task::scheduler: schedule() called #4: current=Some(2), ready_queue=[1], idle_thread=0
[ INFO] kernel::task::scheduler: Put thread 2 back in ready queue, state was Running
[ INFO] kernel::task::scheduler: Next thread from queue: 1, ready_queue after pop: [2]
[ INFO] kernel::task::scheduler: Switching from thread 2 to thread 1
[ INFO] kernel::interrupts::context_switch: scheduler::schedule() returned: Some((2, 1)) (count: 4)
[DEBUG] kernel::interrupts::context_switch: Context switch on interrupt return: 2 -> 1
[DEBUG] kernel::interrupts::context_switch: Context switch: from_userspace=true, CS=0x33
[TRACE] kernel::task::process_context: Saved userspace context for thread 2: RIP=0x10000000, RSP=0x555555572000, RAX=0x0
[TRACE] kernel::interrupts::context_switch: Saved context for process 2 (thread 2)
[DEBUG] kernel::tls: Set GS base to 0x11000
[ INFO] kernel::interrupts::context_switch: restore_userspace_thread_context: Restoring thread 1
[DEBUG] kernel::interrupts::context_switch: Got process manager lock
[DEBUG] kernel::interrupts::context_switch: Found process 1 for thread 1
[DEBUG] kernel::interrupts::context_switch: Thread privilege: User
[ INFO] kernel::task::process_context: Restored userspace context for thread 1: RIP=0x10000000, RSP=0x555555561000, CS=0x33, SS=0x2b, RFLAGS=0x10202
[TRACE] kernel::interrupts::context_switch: Restored context for process 1 (thread 1)
[ INFO] kernel::interrupts::context_switch: Scheduled page table switch for process 1 on return: frame=0x5b6000
[ INFO] kernel::interrupts::context_switch: Setting kernel stack for thread 1 to 0xffffc90000003000
[DEBUG] kernel::gdt: TSS RSP0 updated: 0xffffc90000006000 -> 0xffffc90000003000
[ INFO] kernel::interrupts::context_switch: get_next_page_table: Returning page table frame 0x5b6000 for switch
[ INFO] kernel::interrupts: BREAKPOINT from USERSPACE at 0x10000006
[ INFO] kernel::interrupts: Stack: 0x555555560fa8, CS: SegmentSelector { index: 6, rpl: Ring3 }, SS: SegmentSelector { index: 5, rpl: Ring3 }
[ INFO] kernel::task::scheduler: schedule() called #5: current=Some(1), ready_queue=[2], idle_thread=0
[ INFO] kernel::task::scheduler: Put thread 1 back in ready queue, state was Running
[ INFO] kernel::task::scheduler: Next thread from queue: 2, ready_queue after pop: [1]
[ INFO] kernel::task::scheduler: Switching from thread 1 to thread 2
[ INFO] kernel::interrupts::context_switch: scheduler::schedule() returned: Some((1, 2)) (count: 5)
[DEBUG] kernel::interrupts::context_switch: Context switch on interrupt return: 1 -> 2
[DEBUG] kernel::interrupts::context_switch: Context switch: from_userspace=true, CS=0x33
[TRACE] kernel::task::process_context: Saved userspace context for thread 1: RIP=0x10000006, RSP=0x555555560fa8, RAX=0x0
[TRACE] kernel::interrupts::context_switch: Saved context for process 1 (thread 1)
[DEBUG] kernel::tls: Set GS base to 0x12000
[ INFO] kernel::interrupts::context_switch: restore_userspace_thread_context: Restoring thread 2
[DEBUG] kernel::interrupts::context_switch: Got process manager lock
[DEBUG] kernel::interrupts::context_switch: Found process 2 for thread 2
[DEBUG] kernel::interrupts::context_switch: Thread privilege: User
[ INFO] kernel::task::process_context: Restored userspace context for thread 2: RIP=0x10000000, RSP=0x555555572000, CS=0x33, SS=0x2b, RFLAGS=0x10202
[TRACE] kernel::interrupts::context_switch: Restored context for process 2 (thread 2)
[ INFO] kernel::interrupts::context_switch: Scheduled page table switch for process 2 on return: frame=0x5d4000
[ INFO] kernel::interrupts::context_switch: Setting kernel stack for thread 2 to 0xffffc90000006000
[DEBUG] kernel::gdt: TSS RSP0 updated: 0xffffc90000003000 -> 0xffffc90000006000
[ INFO] kernel::interrupts::context_switch: get_next_page_table: Returning page table frame 0x5d4000 for switch
[ INFO] kernel::task::scheduler: schedule() called #6: current=Some(2), ready_queue=[1], idle_thread=0
[ INFO] kernel::task::scheduler: Put thread 2 back in ready queue, state was Running
[ INFO] kernel::task::scheduler: Next thread from queue: 1, ready_queue after pop: [2]
[ INFO] kernel::task::scheduler: Switching from thread 2 to thread 1
[ INFO] kernel::interrupts::context_switch: scheduler::schedule() returned: Some((2, 1)) (count: 6)
[DEBUG] kernel::interrupts::context_switch: Context switch on interrupt return: 2 -> 1
[DEBUG] kernel::interrupts::context_switch: Context switch: from_userspace=true, CS=0x33
[TRACE] kernel::task::process_context: Saved userspace context for thread 2: RIP=0x10000000, RSP=0x555555572000, RAX=0x0
[TRACE] kernel::interrupts::context_switch: Saved context for process 2 (thread 2)
[DEBUG] kernel::tls: Set GS base to 0x11000
[ INFO] kernel::interrupts::context_switch: restore_userspace_thread_context: Restoring thread 1
[DEBUG] kernel::interrupts::context_switch: Got process manager lock
[DEBUG] kernel::interrupts::context_switch: Found process 1 for thread 1
[DEBUG] kernel::interrupts::context_switch: Thread privilege: User
[ INFO] kernel::task::process_context: Restored userspace context for thread 1: RIP=0x10000006, RSP=0x555555560fa8, CS=0x33, SS=0x2b, RFLAGS=0x10202
[TRACE] kernel::interrupts::context_switch: Restored context for process 1 (thread 1)
[ INFO] kernel::interrupts::context_switch: Scheduled page table switch for process 1 on return: frame=0x5b6000
[ INFO] kernel::interrupts::context_switch: Setting kernel stack for thread 1 to 0xffffc90000003000
[DEBUG] kernel::gdt: TSS RSP0 updated: 0xffffc90000006000 -> 0xffffc90000003000
[ INFO] kernel::interrupts::context_switch: get_next_page_table: Returning page table frame 0x5b6000 for switch
[ INFO] kernel::task::scheduler: schedule() called #7: current=Some(1), ready_queue=[2], idle_thread=0
[ INFO] kernel::task::scheduler: Put thread 1 back in ready queue, state was Running
[ INFO] kernel::task::scheduler: Next thread from queue: 2, ready_queue after pop: [1]
[ INFO] kernel::task::scheduler: Switching from thread 1 to thread 2
[ INFO] kernel::interrupts::context_switch: scheduler::schedule() returned: Some((1, 2)) (count: 7)
[DEBUG] kernel::interrupts::context_switch: Context switch on interrupt return: 1 -> 2
[DEBUG] kernel::interrupts::context_switch: Context switch: from_userspace=true, CS=0x33
[TRACE] kernel::task::process_context: Saved userspace context for thread 1: RIP=0x10000006, RSP=0x555555560fa8, RAX=0x0
[TRACE] kernel::interrupts::context_switch: Saved context for process 1 (thread 1)
[DEBUG] kernel::tls: Set GS base to 0x12000
[ INFO] kernel::interrupts::context_switch: restore_userspace_thread_context: Restoring thread 2
[DEBUG] kernel::interrupts::context_switch: Got process manager lock
[DEBUG] kernel::interrupts::context_switch: Found process 2 for thread 2
[DEBUG] kernel::interrupts::context_switch: Thread privilege: User
[ INFO] kernel::task::process_context: Restored userspace context for thread 2: RIP=0x10000000, RSP=0x555555572000, CS=0x33, SS=0x2b, RFLAGS=0x10202
[TRACE] kernel::interrupts::context_switch: Restored context for process 2 (thread 2)
[ INFO] kernel::interrupts::context_switch: Scheduled page table switch for process 2 on return: frame=0x5d4000
[ INFO] kernel::interrupts::context_switch: Setting kernel stack for thread 2 to 0xffffc90000006000
[DEBUG] kernel::gdt: TSS RSP0 updated: 0xffffc90000003000 -> 0xffffc90000006000
[ INFO] kernel::interrupts::context_switch: get_next_page_table: Returning page table frame 0x5d4000 for switch
[ INFO] kernel::task::scheduler: schedule() called #8: current=Some(2), ready_queue=[1], idle_thread=0
[ INFO] kernel::task::scheduler: Put thread 2 back in ready queue, state was Running
[ INFO] kernel::task::scheduler: Next thread from queue: 1, ready_queue after pop: [2]
[ INFO] kernel::task::scheduler: Switching from thread 2 to thread 1
[ INFO] kernel::interrupts::context_switch: scheduler::schedule() returned: Some((2, 1)) (count: 8)
[DEBUG] kernel::interrupts::context_switch: Context switch on interrupt return: 2 -> 1
[DEBUG] kernel::interrupts::context_switch: Context switch: from_userspace=true, CS=0x33
[TRACE] kernel::task::process_context: Saved userspace context for thread 2: RIP=0x10000000, RSP=0x555555572000, RAX=0x0
[TRACE] kernel::interrupts::context_switch: Saved context for process 2 (thread 2)
[DEBUG] kernel::tls: Set GS base to 0x11000
[ INFO] kernel::interrupts::context_switch: restore_userspace_thread_context: Restoring thread 1
[DEBUG] kernel::interrupts::context_switch: Got process manager lock
[DEBUG] kernel::interrupts::context_switch: Found process 1 for thread 1
[DEBUG] kernel::interrupts::context_switch: Thread privilege: User
[ INFO] kernel::task::process_context: Restored userspace context for thread 1: RIP=0x10000006, RSP=0x555555560fa8, CS=0x33, SS=0x2b, RFLAGS=0x10202
[TRACE] kernel::interrupts::context_switch: Restored context for process 1 (thread 1)
[ INFO] kernel::interrupts::context_switch: Scheduled page table switch for process 1 on return: frame=0x5b6000
[ INFO] kernel::interrupts::context_switch: Setting kernel stack for thread 1 to 0xffffc90000003000
[DEBUG] kernel::gdt: TSS RSP0 updated: 0xffffc90000006000 -> 0xffffc90000003000
[ INFO] kernel::interrupts::context_switch: get_next_page_table: Returning page table frame 0x5b6000 for switch
[ INFO] kernel::task::scheduler: schedule() called #9: current=Some(1), ready_queue=[2], idle_thread=0
[ INFO] kernel::task::scheduler: Put thread 1 back in ready queue, state was Running
[ INFO] kernel::task::scheduler: Next thread from queue: 2, ready_queue after pop: [1]
[ INFO] kernel::task::scheduler: Switching from thread 1 to thread 2
[ INFO] kernel::interrupts::context_switch: scheduler::schedule() returned: Some((1, 2)) (count: 9)
[DEBUG] kernel::interrupts::context_switch: Context switch on interrupt return: 1 -> 2
[DEBUG] kernel::interrupts::context_switch: Context switch: from_userspace=true, CS=0x33
[TRACE] kernel::task::process_context: Saved userspace context for thread 1: RIP=0x10000006, RSP=0x555555560fa8, RAX=0x0
[TRACE] kernel::interrupts::context_switch: Saved context for process 1 (thread 1)
[DEBUG] kernel::tls: Set GS base to 0x12000
[ INFO] kernel::interrupts::context_switch: restore_userspace_thread_context: Restoring thread 2
[DEBUG] kernel::interrupts::context_switch: Got process manager lock
[DEBUG] kernel::interrupts::context_switch: Found process 2 for thread 2
[DEBUG] kernel::interrupts::context_switch: Thread privilege: User
[ INFO] kernel::task::process_context: Restored userspace context for thread 2: RIP=0x10000000, RSP=0x555555572000, CS=0x33, SS=0x2b, RFLAGS=0x10202
[TRACE] kernel::interrupts::context_switch: Restored context for process 2 (thread 2)
[ INFO] kernel::interrupts::context_switch: Scheduled page table switch for process 2 on return: frame=0x5d4000
[ INFO] kernel::interrupts::context_switch: Setting kernel stack for thread 2 to 0xffffc90000006000
[DEBUG] kernel::gdt: TSS RSP0 updated: 0xffffc90000003000 -> 0xffffc90000006000
[ INFO] kernel::interrupts::context_switch: get_next_page_table: Returning page table frame 0x5d4000 for switch
[ INFO] kernel::interrupts::context_switch: scheduler::schedule() returned: Some((2, 1)) (count: 10)
[DEBUG] kernel::interrupts::context_switch: Context switch on interrupt return: 2 -> 1
[DEBUG] kernel::interrupts::context_switch: Context switch: from_userspace=true, CS=0x33
[TRACE] kernel::task::process_context: Saved userspace context for thread 2: RIP=0x10000000, RSP=0x555555572000, RAX=0x0
[TRACE] kernel::interrupts::context_switch: Saved context for process 2 (thread 2)
[DEBUG] kernel::tls: Set GS base to 0x11000
[ INFO] kernel::interrupts::context_switch: restore_userspace_thread_context: Restoring thread 1
[DEBUG] kernel::interrupts::context_switch: Got process manager lock
[DEBUG] kernel::interrupts::context_switch: Found process 1 for thread 1
[DEBUG] kernel::interrupts::context_switch: Thread privilege: User
[ INFO] kernel::task::process_context: Restored userspace context for thread 1: RIP=0x10000006, RSP=0x555555560fa8, CS=0x33, SS=0x2b, RFLAGS=0x10202
[TRACE] kernel::interrupts::context_switch: Restored context for process 1 (thread 1)
[ INFO] kernel::interrupts::context_switch: Scheduled page table switch for process 1 on return: frame=0x5b6000
[ INFO] kernel::interrupts::context_switch: Setting kernel stack for thread 1 to 0xffffc90000003000
[DEBUG] kernel::gdt: TSS RSP0 updated: 0xffffc90000006000 -> 0xffffc90000003000
[ INFO] kernel::interrupts::context_switch: get_next_page_table: Returning page table frame 0x5b6000 for switch
[ INFO] kernel::interrupts::context_switch: scheduler::schedule() returned: Some((1, 2)) (count: 11)
[DEBUG] kernel::interrupts::context_switch: Context switch on interrupt return: 1 -> 2
[DEBUG] kernel::interrupts::context_switch: Context switch: from_userspace=true, CS=0x33
[TRACE] kernel::task::process_context: Saved userspace context for thread 1: RIP=0x10000006, RSP=0x555555560fa8, RAX=0x0
[TRACE] kernel::interrupts::context_switch: Saved context for process 1 (thread 1)
[DEBUG] kernel::tls: Set GS base to 0x12000
[ INFO] kernel::interrupts::context_switch: restore_userspace_thread_context: Restoring thread 2
[DEBUG] kernel::interrupts::context_switch: Got process manager lock
[DEBUG] kernel::interrupts::context_switch: Found process 2 for thread 2
[DEBUG] kernel::interrupts::context_switch: Thread privilege: User
[ INFO] kernel::task::process_context: Restored userspace context for thread 2: RIP=0x10000000, RSP=0x555555572000, CS=0x33, SS=0x2b, RFLAGS=0x10202
[TRACE] kernel::interrupts::context_switch: Restored context for process 2 (thread 2)
[ INFO] kernel::interrupts::context_switch: Scheduled page table switch for process 2 on return: frame=0x5d4000
[ INFO] kernel::interrupts::context_switch: Setting kernel stack for thread 2 to 0xffffc90000006000
[DEBUG] kernel::gdt: TSS RSP0 updated: 0xffffc90000003000 -> 0xffffc90000006000
[ INFO] kernel::interrupts::context_switch: get_next_page_table: Returning page table frame 0x5d4000 for switch
[ INFO] kernel::interrupts::context_switch: scheduler::schedule() returned: Some((2, 1)) (count: 12)
[DEBUG] kernel::interrupts::context_switch: Context switch on interrupt return: 2 -> 1
[DEBUG] kernel::interrupts::context_switch: Context switch: from_userspace=true, CS=0x33
[TRACE] kernel::task::process_context: Saved userspace context for thread 2: RIP=0x10000000, RSP=0x555555572000, RAX=0x0
[TRACE] kernel::interrupts::context_switch: Saved context for process 2 (thread 2)
[DEBUG] kernel::tls: Set GS base to 0x11000
[ INFO] kernel::interrupts::context_switch: restore_userspace_thread_context: Restoring thread 1
[DEBUG] kernel::interrupts::context_switch: Got process manager lock
[DEBUG] kernel::interrupts::context_switch: Found process 1 for thread 1
[DEBUG] kernel::interrupts::context_switch: Thread privilege: User
[ INFO] kernel::task::process_context: Restored userspace context for thread 1: RIP=0x10000006, RSP=0x555555560fa8, CS=0x33, SS=0x2b, RFLAGS=0x10202
[TRACE] kernel::interrupts::context_switch: Restored context for process 1 (thread 1)
[ INFO] kernel::interrupts::context_switch: Scheduled page table switch for process 1 on return: frame=0x5b6000
[ INFO] kernel::interrupts::context_switch: Setting kernel stack for thread 1 to 0xffffc90000003000
[DEBUG] kernel::gdt: TSS RSP0 updated: 0xffffc90000006000 -> 0xffffc90000003000
[ INFO] kernel::interrupts::context_switch: get_next_page_table: Returning page table frame 0x5b6000 for switch
[DEBUG] kernel::syscall::handler: rust_syscall_handler: Raw frame.rax = 0x4 (4)
[TRACE] kernel::syscall::handler: Syscall 4 from userspace: RIP=0x1000000b, args=(0x100000d37c0, 0x0, 0x0, 0x2, 0x0, 0x6)
[DEBUG] kernel::syscall::handler: Syscall frame before: RIP=0x1000000b, CS=0x33, RSP=0x555555560fa8, SS=0x2b, RAX=0x4
[DEBUG] kernel::syscall::handler: Syscall frame after: RIP=0x1000000b, CS=0x33, RSP=0x555555560fa8, SS=0x2b, RAX=0xf (return)
[DEBUG] kernel::syscall::handler: rust_syscall_handler: Raw frame.rax = 0x1 (1)
[ INFO] kernel::syscall::handlers: USERSPACE: sys_write called: fd=1, buf_ptr=0x10001000, count=36
[DEBUG] kernel::process: Acquiring PROCESS_MANAGER lock
[DEBUG] kernel::process: PROCESS_MANAGER lock acquired
[DEBUG] kernel::syscall::handlers: copy_from_user: Found process ProcessId(1) for thread 1
[DEBUG] kernel::process: PROCESS_MANAGER lock released
[DEBUG] kernel::syscall::handlers: copy_from_user: Current CR3: 0x5b6000, Process CR3: 0x5b6000
[DEBUG] kernel::syscall::handlers: copy_from_user: Testing single byte access at 0x10001000
[DEBUG] kernel::syscall::handlers: copy_from_user: Single byte test successful: 0x48
[DEBUG] kernel::syscall::handlers: copy_from_user: Proceeding with full copy of 36 bytes
[DEBUG] kernel::syscall::handlers: copy_from_user: Successfully copied 36 bytes
Hello from userspace! Current time: [ INFO] kernel::syscall::handlers: USERSPACE OUTPUT: Hello from userspace! Current time:
[ INFO] kernel::interrupts::context_switch: scheduler::schedule() returned: Some((1, 2)) (count: 13)
[DEBUG] kernel::interrupts::context_switch: Context switch on interrupt return: 1 -> 2
[DEBUG] kernel::interrupts::context_switch: Context switch: from_userspace=true, CS=0x33
[TRACE] kernel::task::process_context: Saved userspace context for thread 1: RIP=0x10000020, RSP=0x555555560fa8, RAX=0x24
[TRACE] kernel::interrupts::context_switch: Saved context for process 1 (thread 1)
[DEBUG] kernel::tls: Set GS base to 0x12000
[ INFO] kernel::interrupts::context_switch: restore_userspace_thread_context: Restoring thread 2
[DEBUG] kernel::interrupts::context_switch: Got process manager lock
[DEBUG] kernel::interrupts::context_switch: Found process 2 for thread 2
[DEBUG] kernel::interrupts::context_switch: Thread privilege: User
[ INFO] kernel::task::process_context: Restored userspace context for thread 2: RIP=0x10000000, RSP=0x555555572000, CS=0x33, SS=0x2b, RFLAGS=0x10202
[TRACE] kernel::interrupts::context_switch: Restored context for process 2 (thread 2)
[ INFO] kernel::interrupts::context_switch: Scheduled page table switch for process 2 on return: frame=0x5d4000
[ INFO] kernel::interrupts::context_switch: Setting kernel stack for thread 2 to 0xffffc90000006000
[DEBUG] kernel::gdt: TSS RSP0 updated: 0xffffc90000003000 -> 0xffffc90000006000
[ INFO] kernel::interrupts::context_switch: get_next_page_table: Returning page table frame 0x5d4000 for switch
[ INFO] kernel::interrupts::context_switch: scheduler::schedule() returned: Some((2, 1)) (count: 14)
[DEBUG] kernel::interrupts::context_switch: Context switch on interrupt return: 2 -> 1
[DEBUG] kernel::interrupts::context_switch: Context switch: from_userspace=true, CS=0x33
[TRACE] kernel::task::process_context: Saved userspace context for thread 2: RIP=0x10000000, RSP=0x555555572000, RAX=0x0
[TRACE] kernel::interrupts::context_switch: Saved context for process 2 (thread 2)
[DEBUG] kernel::tls: Set GS base to 0x11000
[ INFO] kernel::interrupts::context_switch: restore_userspace_thread_context: Restoring thread 1
[DEBUG] kernel::interrupts::context_switch: Got process manager lock
[DEBUG] kernel::interrupts::context_switch: Found process 1 for thread 1
[DEBUG] kernel::interrupts::context_switch: Thread privilege: User
[ INFO] kernel::task::process_context: Restored userspace context for thread 1: RIP=0x10000020, RSP=0x555555560fa8, CS=0x33, SS=0x2b, RFLAGS=0x10202
[TRACE] kernel::interrupts::context_switch: Restored context for process 1 (thread 1)
[ INFO] kernel::interrupts::context_switch: Scheduled page table switch for process 1 on return: frame=0x5b6000
[ INFO] kernel::interrupts::context_switch: Setting kernel stack for thread 1 to 0xffffc90000003000
[DEBUG] kernel::gdt: TSS RSP0 updated: 0xffffc90000006000 -> 0xffffc90000003000
[ INFO] kernel::interrupts::context_switch: get_next_page_table: Returning page table frame 0x5b6000 for switch
[DEBUG] kernel::syscall::handler: rust_syscall_handler: Raw frame.rax = 0x1 (1)
[ INFO] kernel::syscall::handlers: USERSPACE: sys_write called: fd=1, buf_ptr=0x555555560fb0, count=1
[DEBUG] kernel::process: Acquiring PROCESS_MANAGER lock
[DEBUG] kernel::process: PROCESS_MANAGER lock acquired
[DEBUG] kernel::syscall::handlers: copy_from_user: Found process ProcessId(1) for thread 1
[DEBUG] kernel::process: PROCESS_MANAGER lock released
[DEBUG] kernel::syscall::handlers: copy_from_user: Current CR3: 0x5b6000, Process CR3: 0x5b6000
[DEBUG] kernel::syscall::handlers: copy_from_user: Testing single byte access at 0x555555560fb0
[DEBUG] kernel::syscall::handlers: copy_from_user: Single byte test successful: 0x30
[DEBUG] kernel::syscall::handlers: copy_from_user: Proceeding with full copy of 1 bytes
[DEBUG] kernel::syscall::handlers: copy_from_user: Successfully copied 1 bytes
0[ INFO] kernel::syscall::handlers: USERSPACE OUTPUT: 0
[ INFO] kernel::interrupts::context_switch: scheduler::schedule() returned: Some((1, 2)) (count: 15)
[DEBUG] kernel::interrupts::context_switch: Context switch on interrupt return: 1 -> 2
[DEBUG] kernel::interrupts::context_switch: Context switch: from_userspace=true, CS=0x33
[TRACE] kernel::task::process_context: Saved userspace context for thread 1: RIP=0x100000db, RSP=0x555555560fa8, RAX=0x1
[TRACE] kernel::interrupts::context_switch: Saved context for process 1 (thread 1)
[DEBUG] kernel::tls: Set GS base to 0x12000
[ INFO] kernel::interrupts::context_switch: restore_userspace_thread_context: Restoring thread 2
[DEBUG] kernel::interrupts::context_switch: Got process manager lock
[DEBUG] kernel::interrupts::context_switch: Found process 2 for thread 2
[DEBUG] kernel::interrupts::context_switch: Thread privilege: User
[ INFO] kernel::task::process_context: Restored userspace context for thread 2: RIP=0x10000000, RSP=0x555555572000, CS=0x33, SS=0x2b, RFLAGS=0x10202
[TRACE] kernel::interrupts::context_switch: Restored context for process 2 (thread 2)
[ INFO] kernel::interrupts::context_switch: Scheduled page table switch for process 2 on return: frame=0x5d4000
[ INFO] kernel::interrupts::context_switch: Setting kernel stack for thread 2 to 0xffffc90000006000
[DEBUG] kernel::gdt: TSS RSP0 updated: 0xffffc90000003000 -> 0xffffc90000006000
[ INFO] kernel::interrupts::context_switch: get_next_page_table: Returning page table frame 0x5d4000 for switch
[ INFO] kernel::interrupts::context_switch: scheduler::schedule() returned: Some((2, 1)) (count: 16)
[DEBUG] kernel::interrupts::context_switch: Context switch on interrupt return: 2 -> 1
[DEBUG] kernel::interrupts::context_switch: Context switch: from_userspace=true, CS=0x33
[TRACE] kernel::task::process_context: Saved userspace context for thread 2: RIP=0x10000000, RSP=0x555555572000, RAX=0x0
[TRACE] kernel::interrupts::context_switch: Saved context for process 2 (thread 2)
[DEBUG] kernel::tls: Set GS base to 0x11000
[ INFO] kernel::interrupts::context_switch: restore_userspace_thread_context: Restoring thread 1
[DEBUG] kernel::interrupts::context_switch: Got process manager lock
[DEBUG] kernel::interrupts::context_switch: Found process 1 for thread 1
[DEBUG] kernel::interrupts::context_switch: Thread privilege: User
[ INFO] kernel::task::process_context: Restored userspace context for thread 1: RIP=0x100000db, RSP=0x555555560fa8, CS=0x33, SS=0x2b, RFLAGS=0x10297
[TRACE] kernel::interrupts::context_switch: Restored context for process 1 (thread 1)
[ INFO] kernel::interrupts::context_switch: Scheduled page table switch for process 1 on return: frame=0x5b6000
[ INFO] kernel::interrupts::context_switch: Setting kernel stack for thread 1 to 0xffffc90000003000
[DEBUG] kernel::gdt: TSS RSP0 updated: 0xffffc90000006000 -> 0xffffc90000003000
[ INFO] kernel::interrupts::context_switch: get_next_page_table: Returning page table frame 0x5b6000 for switch
[ INFO] kernel::interrupts::context_switch: scheduler::schedule() returned: Some((1, 2)) (count: 17)
[DEBUG] kernel::interrupts::context_switch: Context switch on interrupt return: 1 -> 2
[DEBUG] kernel::interrupts::context_switch: Context switch: from_userspace=true, CS=0x33
[TRACE] kernel::task::process_context: Saved userspace context for thread 1: RIP=0x100000db, RSP=0x555555560fa8, RAX=0x1
[TRACE] kernel::interrupts::context_switch: Saved context for process 1 (thread 1)
[DEBUG] kernel::tls: Set GS base to 0x12000
[ INFO] kernel::interrupts::context_switch: restore_userspace_thread_context: Restoring thread 2
[DEBUG] kernel::interrupts::context_switch: Got process manager lock
[DEBUG] kernel::interrupts::context_switch: Found process 2 for thread 2
[DEBUG] kernel::interrupts::context_switch: Thread privilege: User
[ INFO] kernel::task::process_context: Restored userspace context for thread 2: RIP=0x10000000, RSP=0x555555572000, CS=0x33, SS=0x2b, RFLAGS=0x10202
[TRACE] kernel::interrupts::context_switch: Restored context for process 2 (thread 2)
[ INFO] kernel::interrupts::context_switch: Scheduled page table switch for process 2 on return: frame=0x5d4000
[ INFO] kernel::interrupts::context_switch: Setting kernel stack for thread 2 to 0xffffc90000006000
[DEBUG] kernel::gdt: TSS RSP0 updated: 0xffffc90000003000 -> 0xffffc90000006000
[ INFO] kernel::interrupts::context_switch: get_next_page_table: Returning page table frame 0x5d4000 for switch
[ INFO] kernel::interrupts: BREAKPOINT from USERSPACE at 0x10000006
[ INFO] kernel::interrupts: Stack: 0x555555571fa8, CS: SegmentSelector { index: 6, rpl: Ring3 }, SS: SegmentSelector { index: 5, rpl: Ring3 }
[ INFO] kernel::interrupts::context_switch: scheduler::schedule() returned: Some((2, 1)) (count: 18)
[DEBUG] kernel::interrupts::context_switch: Context switch on interrupt return: 2 -> 1
[DEBUG] kernel::interrupts::context_switch: Context switch: from_userspace=true, CS=0x33
[TRACE] kernel::task::process_context: Saved userspace context for thread 2: RIP=0x10000006, RSP=0x555555571fa8, RAX=0x0
[TRACE] kernel::interrupts::context_switch: Saved context for process 2 (thread 2)
[DEBUG] kernel::tls: Set GS base to 0x11000
[ INFO] kernel::interrupts::context_switch: restore_userspace_thread_context: Restoring thread 1
[DEBUG] kernel::interrupts::context_switch: Got process manager lock
[DEBUG] kernel::interrupts::context_switch: Found process 1 for thread 1
[DEBUG] kernel::interrupts::context_switch: Thread privilege: User
[ INFO] kernel::task::process_context: Restored userspace context for thread 1: RIP=0x100000db, RSP=0x555555560fa8, CS=0x33, SS=0x2b, RFLAGS=0x10297
[TRACE] kernel::interrupts::context_switch: Restored context for process 1 (thread 1)
[ INFO] kernel::interrupts::context_switch: Scheduled page table switch for process 1 on return: frame=0x5b6000
[ INFO] kernel::interrupts::context_switch: Setting kernel stack for thread 1 to 0xffffc90000003000
[DEBUG] kernel::gdt: TSS RSP0 updated: 0xffffc90000006000 -> 0xffffc90000003000
[ INFO] kernel::interrupts::context_switch: get_next_page_table: Returning page table frame 0x5b6000 for switch
[ INFO] kernel::interrupts::context_switch: scheduler::schedule() returned: Some((1, 2)) (count: 19)
[DEBUG] kernel::interrupts::context_switch: Context switch on interrupt return: 1 -> 2
[DEBUG] kernel::interrupts::context_switch: Context switch: from_userspace=true, CS=0x33
[TRACE] kernel::task::process_context: Saved userspace context for thread 1: RIP=0x100000db, RSP=0x555555560fa8, RAX=0x1
[TRACE] kernel::interrupts::context_switch: Saved context for process 1 (thread 1)
[DEBUG] kernel::tls: Set GS base to 0x12000
[ INFO] kernel::interrupts::context_switch: restore_userspace_thread_context: Restoring thread 2
[DEBUG] kernel::interrupts::context_switch: Got process manager lock
[DEBUG] kernel::interrupts::context_switch: Found process 2 for thread 2
[DEBUG] kernel::interrupts::context_switch: Thread privilege: User
[ INFO] kernel::task::process_context: Restored userspace context for thread 2: RIP=0x10000006, RSP=0x555555571fa8, CS=0x33, SS=0x2b, RFLAGS=0x10202
[TRACE] kernel::interrupts::context_switch: Restored context for process 2 (thread 2)
[ INFO] kernel::interrupts::context_switch: Scheduled page table switch for process 2 on return: frame=0x5d4000
[ INFO] kernel::interrupts::context_switch: Setting kernel stack for thread 2 to 0xffffc90000006000
[DEBUG] kernel::gdt: TSS RSP0 updated: 0xffffc90000003000 -> 0xffffc90000006000
[ INFO] kernel::interrupts::context_switch: get_next_page_table: Returning page table frame 0x5d4000 for switch
[ INFO] kernel::interrupts::context_switch: scheduler::schedule() returned: Some((2, 1)) (count: 20)
[DEBUG] kernel::interrupts::context_switch: Context switch on interrupt return: 2 -> 1
[DEBUG] kernel::interrupts::context_switch: Context switch: from_userspace=true, CS=0x33
[TRACE] kernel::task::process_context: Saved userspace context for thread 2: RIP=0x10000006, RSP=0x555555571fa8, RAX=0x0
[TRACE] kernel::interrupts::context_switch: Saved context for process 2 (thread 2)
[DEBUG] kernel::tls: Set GS base to 0x11000
[ INFO] kernel::interrupts::context_switch: restore_userspace_thread_context: Restoring thread 1
[DEBUG] kernel::interrupts::context_switch: Got process manager lock
[DEBUG] kernel::interrupts::context_switch: Found process 1 for thread 1
[DEBUG] kernel::interrupts::context_switch: Thread privilege: User
[ INFO] kernel::task::process_context: Restored userspace context for thread 1: RIP=0x100000db, RSP=0x555555560fa8, CS=0x33, SS=0x2b, RFLAGS=0x10297
[TRACE] kernel::interrupts::context_switch: Restored context for process 1 (thread 1)
[ INFO] kernel::interrupts::context_switch: Scheduled page table switch for process 1 on return: frame=0x5b6000
[ INFO] kernel::interrupts::context_switch: Setting kernel stack for thread 1 to 0xffffc90000003000
[DEBUG] kernel::gdt: TSS RSP0 updated: 0xffffc90000006000 -> 0xffffc90000003000
[ INFO] kernel::interrupts::context_switch: get_next_page_table: Returning page table frame 0x5b6000 for switch
[DEBUG] kernel::syscall::handler: rust_syscall_handler: Raw frame.rax = 0x100000d37c0 (1099512494016)
[TRACE] kernel::syscall::handler: Syscall 1099512494016 from userspace: RIP=0x100000ea, args=(0x100000d37c0, 0x10001024, 0x7, 0x2, 0x0, 0x6)
[DEBUG] kernel::syscall::handler: Syscall frame before: RIP=0x100000ea, CS=0x33, RSP=0x555555560fa8, SS=0x2b, RAX=0x100000d37c0
[ WARN] kernel::syscall::handler: Unknown syscall number: 1099512494016
[DEBUG] kernel::syscall::handler: Syscall frame after: RIP=0x100000ea, CS=0x33, RSP=0x555555560fa8, SS=0x2b, RAX=0x1 (return)
[ INFO] kernel::interrupts::context_switch: scheduler::schedule() returned: Some((1, 2)) (count: 21)
[DEBUG] kernel::interrupts::context_switch: Context switch on interrupt return: 1 -> 2
[DEBUG] kernel::interrupts::context_switch: Context switch: from_userspace=true, CS=0x33
[TRACE] kernel::task::process_context: Saved userspace context for thread 1: RIP=0x100000ea, RSP=0x555555560fa8, RAX=0x1
[TRACE] kernel::interrupts::context_switch: Saved context for process 1 (thread 1)
[DEBUG] kernel::tls: Set GS base to 0x12000
[ INFO] kernel::interrupts::context_switch: restore_userspace_thread_context: Restoring thread 2
[DEBUG] kernel::interrupts::context_switch: Got process manager lock
[DEBUG] kernel::interrupts::context_switch: Found process 2 for thread 2
[DEBUG] kernel::interrupts::context_switch: Thread privilege: User
[ INFO] kernel::task::process_context: Restored userspace context for thread 2: RIP=0x10000006, RSP=0x555555571fa8, CS=0x33, SS=0x2b, RFLAGS=0x10202
[TRACE] kernel::interrupts::context_switch: Restored context for process 2 (thread 2)
[ INFO] kernel::interrupts::context_switch: Scheduled page table switch for process 2 on return: frame=0x5d4000
[ INFO] kernel::interrupts::context_switch: Setting kernel stack for thread 2 to 0xffffc90000006000
[DEBUG] kernel::gdt: TSS RSP0 updated: 0xffffc90000003000 -> 0xffffc90000006000
[ INFO] kernel::interrupts::context_switch: get_next_page_table: Returning page table frame 0x5d4000 for switch
[DEBUG] kernel::syscall::handler: rust_syscall_handler: Raw frame.rax = 0x4 (4)
[TRACE] kernel::syscall::handler: Syscall 4 from userspace: RIP=0x1000000b, args=(0x100000d37c0, 0x0, 0x0, 0x2, 0x0, 0x6)
[DEBUG] kernel::syscall::handler: Syscall frame before: RIP=0x1000000b, CS=0x33, RSP=0x555555571fa8, SS=0x2b, RAX=0x4
[DEBUG] kernel::syscall::handler: Syscall frame after: RIP=0x1000000b, CS=0x33, RSP=0x555555571fa8, SS=0x2b, RAX=0x18 (return)
[ INFO] kernel::interrupts::context_switch: scheduler::schedule() returned: Some((2, 1)) (count: 22)
[DEBUG] kernel::interrupts::context_switch: Context switch on interrupt return: 2 -> 1
[DEBUG] kernel::interrupts::context_switch: Context switch: from_userspace=true, CS=0x33
[TRACE] kernel::task::process_context: Saved userspace context for thread 2: RIP=0x1000000b, RSP=0x555555571fa8, RAX=0x18
[TRACE] kernel::interrupts::context_switch: Saved context for process 2 (thread 2)
[DEBUG] kernel::tls: Set GS base to 0x11000
[ INFO] kernel::interrupts::context_switch: restore_userspace_thread_context: Restoring thread 1
[DEBUG] kernel::interrupts::context_switch: Got process manager lock
[DEBUG] kernel::interrupts::context_switch: Found process 1 for thread 1
[DEBUG] kernel::interrupts::context_switch: Thread privilege: User
[ INFO] kernel::task::process_context: Restored userspace context for thread 1: RIP=0x100000ea, RSP=0x555555560fa8, CS=0x33, SS=0x2b, RFLAGS=0x10297
[TRACE] kernel::interrupts::context_switch: Restored context for process 1 (thread 1)
[ INFO] kernel::interrupts::context_switch: Scheduled page table switch for process 1 on return: frame=0x5b6000
[ INFO] kernel::interrupts::context_switch: Setting kernel stack for thread 1 to 0xffffc90000003000
[DEBUG] kernel::gdt: TSS RSP0 updated: 0xffffc90000006000 -> 0xffffc90000003000
[ INFO] kernel::interrupts::context_switch: get_next_page_table: Returning page table frame 0x5b6000 for switch
[DEBUG] kernel::syscall::handler: rust_syscall_handler: Raw frame.rax = 0x0 (0)
[TRACE] kernel::syscall::handler: Syscall 0 from userspace: RIP=0x100000f0, args=(0x0, 0x0, 0x7, 0x2, 0x0, 0x6)
[DEBUG] kernel::syscall::handler: Syscall frame before: RIP=0x100000f0, CS=0x33, RSP=0x555555560fa8, SS=0x2b, RAX=0x0
[ INFO] kernel::syscall::handlers: USERSPACE: sys_exit called with code: 0
[DEBUG] kernel::syscall::handlers: sys_exit: Current thread ID from scheduler: 1
[DEBUG] kernel::task::process_task: Thread 1 exited with code 0
[DEBUG] kernel::process: Acquiring PROCESS_MANAGER lock
[DEBUG] kernel::process: PROCESS_MANAGER lock acquired
[ INFO] kernel::task::process_task: Process 1 (thread 1) exited with code 0
[DEBUG] kernel::process: PROCESS_MANAGER lock released
[DEBUG] kernel::syscall::handler: Syscall frame after: RIP=0x100000f0, CS=0x33, RSP=0x555555560fa8, SS=0x2b, RAX=0x0 (return)
[ INFO] kernel::task::scheduler: Thread 1 is terminated, not putting back in ready queue
[ INFO] kernel::interrupts::context_switch: scheduler::schedule() returned: Some((1, 2)) (count: 23)
[DEBUG] kernel::interrupts::context_switch: Context switch on interrupt return: 1 -> 2
[DEBUG] kernel::interrupts::context_switch: Context switch: from_userspace=true, CS=0x33
[TRACE] kernel::task::process_context: Saved userspace context for thread 1: RIP=0x100000f0, RSP=0x555555560fa8, RAX=0x0
[TRACE] kernel::interrupts::context_switch: Saved context for process 1 (thread 1)
[DEBUG] kernel::tls: Set GS base to 0x12000
[ INFO] kernel::interrupts::context_switch: restore_userspace_thread_context: Restoring thread 2
[DEBUG] kernel::interrupts::context_switch: Got process manager lock
[DEBUG] kernel::interrupts::context_switch: Found process 2 for thread 2
[DEBUG] kernel::interrupts::context_switch: Thread privilege: User
[ INFO] kernel::task::process_context: Restored userspace context for thread 2: RIP=0x1000000b, RSP=0x555555571fa8, CS=0x33, SS=0x2b, RFLAGS=0x10202
[TRACE] kernel::interrupts::context_switch: Restored context for process 2 (thread 2)
[ INFO] kernel::interrupts::context_switch: Scheduled page table switch for process 2 on return: frame=0x5d4000
[ INFO] kernel::interrupts::context_switch: Setting kernel stack for thread 2 to 0xffffc90000006000
[DEBUG] kernel::gdt: TSS RSP0 updated: 0xffffc90000003000 -> 0xffffc90000006000
[ INFO] kernel::interrupts::context_switch: get_next_page_table: Returning page table frame 0x5d4000 for switch
[DEBUG] kernel::syscall::handler: rust_syscall_handler: Raw frame.rax = 0x1 (1)
[ INFO] kernel::syscall::handlers: USERSPACE: sys_write called: fd=1, buf_ptr=0x10001000, count=36
[DEBUG] kernel::process: Acquiring PROCESS_MANAGER lock
[DEBUG] kernel::process: PROCESS_MANAGER lock acquired
[DEBUG] kernel::syscall::handlers: copy_from_user: Found process ProcessId(2) for thread 2
[DEBUG] kernel::process: PROCESS_MANAGER lock released
[DEBUG] kernel::syscall::handlers: copy_from_user: Current CR3: 0x5d4000, Process CR3: 0x5d4000
[DEBUG] kernel::syscall::handlers: copy_from_user: Testing single byte access at 0x10001000
[DEBUG] kernel::syscall::handlers: copy_from_user: Single byte test successful: 0x48
[DEBUG] kernel::syscall::handlers: copy_from_user: Proceeding with full copy of 36 bytes
[DEBUG] kernel::syscall::handlers: copy_from_user: Successfully copied 36 bytes
Hello from userspace! Current time: [ INFO] kernel::syscall::handlers: USERSPACE OUTPUT: Hello from userspace! Current time:
[DEBUG] kernel::syscall::handler: rust_syscall_handler: Raw frame.rax = 0x1 (1)
[ INFO] kernel::syscall::handlers: USERSPACE: sys_write called: fd=1, buf_ptr=0x555555571fb0, count=1
[DEBUG] kernel::process: Acquiring PROCESS_MANAGER lock
[DEBUG] kernel::process: PROCESS_MANAGER lock acquired
[DEBUG] kernel::syscall::handlers: copy_from_user: Found process ProcessId(2) for thread 2
[DEBUG] kernel::process: PROCESS_MANAGER lock released
[DEBUG] kernel::syscall::handlers: copy_from_user: Current CR3: 0x5d4000, Process CR3: 0x5d4000
[DEBUG] kernel::syscall::handlers: copy_from_user: Testing single byte access at 0x555555571fb0
[DEBUG] kernel::syscall::handlers: copy_from_user: Single byte test successful: 0x30
[DEBUG] kernel::syscall::handlers: copy_from_user: Proceeding with full copy of 1 bytes
[DEBUG] kernel::syscall::handlers: copy_from_user: Successfully copied 1 bytes
0[ INFO] kernel::syscall::handlers: USERSPACE OUTPUT: 0
[DEBUG] kernel::syscall::handler: rust_syscall_handler: Raw frame.rax = 0xffffc90000005ef8 (-60473139503368)
[TRACE] kernel::syscall::handler: Syscall 18446683600570048248 from userspace: RIP=0x100000ea, args=(0xffffc90000005ef8, 0x10001024, 0x7, 0x1000103c, 0x1, 0x0)
[DEBUG] kernel::syscall::handler: Syscall frame before: RIP=0x100000ea, CS=0x33, RSP=0x555555571fa8, SS=0x2b, RAX=0xffffc90000005ef8
[ WARN] kernel::syscall::handler: Unknown syscall number: 18446683600570048248
[DEBUG] kernel::syscall::handler: Syscall frame after: RIP=0x100000ea, CS=0x33, RSP=0x555555571fa8, SS=0x2b, RAX=0x1 (return)
[DEBUG] kernel::syscall::handler: rust_syscall_handler: Raw frame.rax = 0x0 (0)
[TRACE] kernel::syscall::handler: Syscall 0 from userspace: RIP=0x100000f0, args=(0x0, 0x100000d4720, 0x7, 0x1000103c, 0x1, 0x0)
[DEBUG] kernel::syscall::handler: Syscall frame before: RIP=0x100000f0, CS=0x33, RSP=0x555555571fa8, SS=0x2b, RAX=0x0
[ INFO] kernel::syscall::handlers: USERSPACE: sys_exit called with code: 0
[DEBUG] kernel::syscall::handlers: sys_exit: Current thread ID from scheduler: 2
[DEBUG] kernel::task::process_task: Thread 2 exited with code 0
[DEBUG] kernel::process: Acquiring PROCESS_MANAGER lock
[DEBUG] kernel::process: PROCESS_MANAGER lock acquired
[ INFO] kernel::task::process_task: Process 2 (thread 2) exited with code 0
[DEBUG] kernel::process: PROCESS_MANAGER lock released
[ INFO] kernel::syscall::handlers: No more userspace threads remaining
[ INFO] kernel::syscall::handlers: Woke keyboard task to ensure input processing continues
[DEBUG] kernel::syscall::handler: Syscall frame after: RIP=0x100000f0, CS=0x33, RSP=0x555555571fa8, SS=0x2b, RAX=0x0 (return)
[ INFO] kernel::task::scheduler: Thread 2 is terminated, not putting back in ready queue
[ INFO] kernel::interrupts::context_switch: scheduler::schedule() returned: Some((2, 0)) (count: 27)
[DEBUG] kernel::interrupts::context_switch: Context switch on interrupt return: 2 -> 0
[DEBUG] kernel::interrupts::context_switch: Context switch: from_userspace=true, CS=0x33
[TRACE] kernel::task::process_context: Saved userspace context for thread 2: RIP=0x100000f0, RSP=0x555555571fa8, RAX=0x18
[TRACE] kernel::interrupts::context_switch: Saved context for process 2 (thread 2)
[TRACE] kernel::interrupts::context_switch: Set up return to idle loop
[DEBUG] kernel::interrupts::context_switch: check_need_resched_and_switch: Reschedule needed (count: 30)
[DEBUG] kernel::interrupts::context_switch: scheduler::schedule() returned: None (count: 30)
[DEBUG] kernel::interrupts::context_switch: check_need_resched_and_switch: Reschedule needed (count: 60)
[DEBUG] kernel::interrupts::context_switch: scheduler::schedule() returned: None (count: 60)
[DEBUG] kernel::interrupts::context_switch: check_need_resched_and_switch: Reschedule needed (count: 90)
[DEBUG] kernel::interrupts::context_switch: scheduler::schedule() returned: None (count: 90)
[DEBUG] kernel::interrupts::context_switch: check_need_resched_and_switch: Reschedule needed (count: 120)
[DEBUG] kernel::interrupts::context_switch: scheduler::schedule() returned: None (count: 120)
[DEBUG] kernel::interrupts::context_switch: check_need_resched_and_switch: Reschedule needed (count: 150)
[DEBUG] kernel::interrupts::context_switch: scheduler::schedule() returned: None (count: 150)
[DEBUG] kernel::interrupts::context_switch: check_need_resched_and_switch: Reschedule needed (count: 180)
[DEBUG] kernel::interrupts::context_switch: scheduler::schedule() returned: None (count: 180)
[DEBUG] kernel::interrupts::context_switch: check_need_resched_and_switch: Reschedule needed (count: 210)
[DEBUG] kernel::interrupts::context_switch: scheduler::schedule() returned: None (count: 210)
[DEBUG] kernel::interrupts::context_switch: check_need_resched_and_switch: Reschedule needed (count: 240)
[DEBUG] kernel::interrupts::context_switch: scheduler::schedule() returned: None (count: 240)
